{"version":3,"file":"component---src-templates-category-detail-js-8ed1dc56766c71973f6f.js","mappings":"+IAQA,IALoB,WAAH,OACbA,EAAAA,cAAA,UAAQC,OAAK,EAACC,IAAI,gGACjBC,YAAY,aAAsB,C,kKCUjCC,GAAYC,EAAAA,EAAAA,IAAa,SAACC,GAAK,MAAM,CACzCC,QAAS,CACPC,QAAS,OACTC,cAAe,SACfC,eAAgB,aAChBC,WAAY,SACZC,cAAe,IAEjBC,OAAQ,CACNC,OAAQ,GACRN,QAAS,OACTC,cAAe,MACfC,eAAgB,SAChBC,WAAY,UAEf,IAEKI,EAAY,EACZC,EAAgB,EAEP,SAASC,EAAQC,GAA+B,IAA5BC,EAAID,EAAJC,KAAIC,EAAAF,EAAEG,YAC/BC,QAD0C,IAAAF,EAAG,CAAE,EAACA,GAChDE,KACRC,GAAmCJ,aAAI,EAAJA,EAAMK,oBAAqB,CAAEC,MAAO,IAA/DC,EAAUH,EAAVG,WAAUC,EAAAJ,EAAEE,MAAAA,OAAK,IAAAE,EAAG,GAAEA,EAC9BC,GAAgCC,EAAAA,EAAAA,UAASb,GAAjCc,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GACnBI,EAAY5B,IAAZ4B,QACFC,EAAYC,KAAKC,KAAKT,EAAaX,GACnCqB,GAAaN,EAAU,GAAKf,EAC5BsB,EAAWP,EAAUf,EACrBuB,EAAeb,EAAMc,MAAMH,EAAWC,GAC5C,OACErC,EAAAA,cAACwC,EAAAA,EAAQ,CACLC,QAAQ,KACRC,OAAQ1C,EAAAA,cAAC2C,EAAAA,EAAU,MACnBC,OAAQ,SAACtC,GAAK,MAAM,CAClBuC,KAAM,CAAEC,gBAAuC,SAAtBxC,EAAMyC,YAAyBzC,EAAM0C,OAAOC,KAAK,GAAK3C,EAAM0C,OAAOE,KAAK,IACjGC,KAAM,CAAEC,WAAY,IACrB,EACDvC,OAAQb,EAAAA,cAACqD,EAAAA,EAAM,KACbrD,EAAAA,cAAA,OAAKsD,UAAWtB,EAAQnB,QACtBb,EAAAA,cAACuD,EAAAA,EAAU,CACTC,MAAOvB,EACPwB,KAAM3B,EACN4B,SAAU,SAACD,GAAU1B,EAAW0B,EAAO,OAK/CzD,EAAAA,cAAA,OAAKsD,UAAWtB,EAAQzB,SACtBP,EAAAA,cAAA,OAAKsD,UAAU,aACbtD,EAAAA,cAAA,OACEsD,UAAU,qBAEPhC,EAAOtB,EAAAA,cAAA,WAAMsB,GAAc,KAC7BI,EAAa,EAAI,eAAiBY,EAAaqB,KAAI,SAAAC,GAAS,IAADC,EAAAC,EAC1DC,GAA8CH,SAAU,QAANC,EAAJD,EAAMI,YAAI,IAAAH,OAAN,EAAJA,EAAYI,cAAe,CAAC,EAAlEC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAAIL,EAAJK,KAAMC,EAAON,EAAPM,QAASC,EAAIP,EAAJO,KAC9BC,EAAKX,SAAU,QAANE,EAAJF,EAAMI,YAAI,IAAAF,OAAN,EAAJA,EAAYS,GACvB,OAAOvE,EAAAA,cAACwE,EAAAA,KAAI,CAACC,IAAKF,EAAIG,GAAE,GAAKR,GACzBlE,EAAAA,cAAC2E,EAAAA,EAAW,CACVN,QAASA,EACTC,KAAMA,EACNH,MAAOA,EACPC,KAAMA,IAGd,KAEFpE,EAAAA,cAAC4E,EAAAA,EAAW,QAKtB,C","sources":["webpack://noodes-personal-blog/./src/components/adComponent.js","webpack://noodes-personal-blog/./src/templates/categoryDetail.js"],"sourcesContent":["import React from 'react'\n\n\nconst AdComponent = () => (\n    <script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8259624032507561\"\n     crossorigin=\"anonymous\" ></script>\n)\n\nexport default AdComponent\n","import React, { useState } from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport { \n  AppShell,\n  createStyles,\n  Footer,\n  Pagination\n} from '@mantine/core';\n\nimport AdComponent from \"@components/adComponent\";\nimport PageHeader from '@components/PageHeader';\nimport ArticleCard from '@components/ArticleCard';\n\nimport './style.css'\n\nconst useStyles = createStyles((theme) => ({\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    paddingBottom: 70,\n  },\n  footer: {\n    height: 60,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n}));\n\nconst PAGE_SIZE = 6;\nconst INIT_PAGE_NUM = 1;\n\nexport default function Template({ data, pageContext = { } }) {\n  const { meta } = pageContext \n  const { totalCount, edges = [] } = data?.allMarkdownRemark || { edges: [] }\n  const [ pageNum, setPageNum ] = useState(INIT_PAGE_NUM)\n  const { classes } = useStyles();\n  const totalPage = Math.ceil(totalCount / PAGE_SIZE)\n  const initIndex = (pageNum - 1) * PAGE_SIZE;\n  const endIndex = pageNum * PAGE_SIZE  \n  const dateToRender = edges.slice(initIndex, endIndex);\n  return (\n    <AppShell\n        padding=\"md\"\n        header={<PageHeader />}\n        styles={(theme) => ({\n          root: { backgroundColor: theme.colorScheme === 'dark' ? theme.colors.dark[8] : theme.colors.gray[0] },\n          main: { paddingTop: 20 }\n        })}\n        footer={<Footer >\n          <div className={classes.footer}>\n            <Pagination \n              total={totalPage}\n              page={pageNum}\n              onChange={(page)=> { setPageNum(page); }}\n            />\n          </div>\n        </Footer>}\n    >\n      <div className={classes.content}>\n        <div className=\"blog-post\">\n          <div\n            className=\"blog-post-content\"\n          >\n            {!!meta ? <div>{meta}</div> : null}\n            {totalCount < 1 ? '当前分类暂无内容敬请期待' : dateToRender.map(edge => {\n              const { path, title, date, summary, tags, } = edge?.node?.frontmatter || {}\n              const id = edge?.node?.id\n              return <Link key={id} to={`${path}`}>\n                  <ArticleCard \n                    summary={summary}\n                    tags={tags}\n                    title={title}\n                    date={date}\n                  />\n                </Link>\n            })}\n          </div>\n          <AdComponent />\n        </div>\n      </div>\n    </AppShell>\n  )\n}\n\nexport const pageQuery = graphql`\n  query($category: String!) {\n    allMarkdownRemark(\n      filter: {frontmatter: {tags: {eq: $category}}}\n      sort: {order: DESC, fields: frontmatter___date}\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          frontmatter {\n            title\n            date\n            tags\n            path\n            top\n            summary\n          }\n        }\n      }\n    }\n  }\n`"],"names":["React","async","src","crossorigin","useStyles","createStyles","theme","content","display","flexDirection","justifyContent","alignItems","paddingBottom","footer","height","PAGE_SIZE","INIT_PAGE_NUM","Template","_ref","data","_ref$pageContext","pageContext","meta","_ref2","allMarkdownRemark","edges","totalCount","_ref2$edges","_useState","useState","pageNum","setPageNum","classes","totalPage","Math","ceil","initIndex","endIndex","dateToRender","slice","AppShell","padding","header","PageHeader","styles","root","backgroundColor","colorScheme","colors","dark","gray","main","paddingTop","Footer","className","Pagination","total","page","onChange","map","edge","_edge$node","_edge$node2","_ref3","node","frontmatter","path","title","date","summary","tags","id","Link","key","to","ArticleCard","AdComponent"],"sourceRoot":""}