(e=>{let t;let n=e=>"object"==typeof e&&e&&e.then,r=()=>{},o=e=>e.length,a=e=>{var t,n,r;try{let n=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name;if(n)return n}catch(e){}try{let t=null===(r=null===(n=null==e?void 0:e.__zone_symbol__originalInstance)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.name;if(t)return t}catch(e){}return""},i=(e,t)=>e.startsWith(t),s=e=>!(i(e,"webkit")||i(e,"toJSON")||i(e,"constructor")||i(e,"toString")||i(e,"_")),d=e=>11===e.nodeType&&e.host?"#s":e.nodeName,l=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),c=(e,t)=>Object.defineProperty(e,"name",{value:t,configurable:!0}),p={Anchor:"a",DList:"dl",Image:"img",OList:"ol",Paragraph:"p",Quote:"q",TableCaption:"caption",TableCell:"td",TableCol:"colgroup",TableRow:"tr",TableSection:"tbody",UList:"ul"},$={Graphics:"g",SVG:"svg"},u=Symbol(),m=Symbol(),f=new Map,w=new Map,y={},g=new WeakMap,h=(e,t)=>{if(e)return(t=g.get(e))||(t=e[u])||v(e,t=l()),t},b=(e,t,n,r,o)=>{if((n=y[e])&&n.$window$){if(e===t)return n.$window$;if(r=n.$window$.document,"d"===(o=t.split(".").pop()))return r;if("e"===o)return r.documentElement;if("h"===o)return r.head;if("b"===o)return r.body}return f.get(t)},v=(e,t,n)=>{e&&(f.set(t,e),e[u]=t,e[m]=n=Date.now(),n>I+5e3&&(f.forEach((e,t)=>{e[m]<I&&e.nodeType&&!e.isConnected&&f.delete(t)}),I=n))},I=0,S=e.parent,E=document.implementation.createHTMLDocument(),M=S.partytown||{},O=(M.lib||"/~partytown/")+"debug/",T=e=>{console.debug.apply(console,["%cMain \uD83C\uDF0E","background: #717171; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;",e])},C=[],L=e=>(C.includes(e)||C.push(e),C.indexOf(e)+1),A=(e,t,n)=>{let r=c(class extends y[e].$window$.HTMLElement{},n[0]),o="connectedCallback,disconnectedCallback,attributeChangedCallback,adoptedCallback".split(",");return o.map(n=>r.prototype[n]=function(...r){t.postMessage([15,e,h(this),n,r])}),r.observedAttributes=n[1],r},k=(e,t,n,r,o)=>void 0!==t&&(r=typeof t)?"string"===r||"number"===r||"boolean"===r||null==t?[0,t]:"function"===r?[6]:(n=n||new Set,Array.isArray(t))?n.has(t)?[1,[]]:n.add(t)&&[1,t.map(t=>k(e,t,n))]:"object"===r?j(t)?[14,{name:t.name,message:t.message,stack:t.stack}]:""===(o=a(t))?[2,{}]:"Window"===o?[3,[e,e]]:"HTMLCollection"===o||"NodeList"===o?[7,Array.from(t).map(t=>k(e,t,n)[1])]:o.endsWith("Event")?[5,R(e,t,n)]:"CSSRuleList"===o?[12,Array.from(t).map(x)]:i(o,"CSS")&&o.endsWith("Rule")?[11,x(t)]:"CSSStyleDeclaration"===o?[13,R(e,t,n)]:"Attr"===o?[10,[t.name,t.value]]:t.nodeType?[3,[e,h(t),d(t)]]:[2,R(e,t,n,!0,!0)]:void 0:t,R=(e,t,n,r,o,i,d,l)=>{if(i={},!n.has(t))for(d in n.add(t),t)s(d)&&(l="path"===d&&a(t).endsWith("Event")?t.composedPath():t[d],(r||"function"!=typeof l)&&(o||""!==l)&&(i[d]=k(e,l,n)));return i},x=e=>{let t,n={};for(t in e)_.includes(t)&&(n[t]=String(e[t]));return n},j=t=>t instanceof e.top.Error,N=(t,n,r,o)=>{if(n)return r=n[0],o=n[1],0===r?o:4===r?P(t,o):1===r?o.map(e=>N(t,e)):3===r?b(o[0],o[1]):5===r?W(U(t,o)):2===r?U(t,o):8===r?o:9===r?new e[n[2]](o):void 0},P=(e,{$winId$:t,$instanceId$:n,$refId$:r},o)=>((o=w.get(r))||(o=function(...o){e.postMessage([9,{$winId$:t,$instanceId$:n,$refId$:r,$thisArg$:k(t,this),$args$:k(t,o)}])},w.set(r,o)),o),W=e=>new("detail"in e?CustomEvent:Event)(e.type,e),U=(e,t,n,r)=>{for(r in n={},t)n[r]=N(e,t[r]);return n},_="cssText,selectorText,href,media,namespaceURI,prefix,name,conditionText".split(","),q=async(e,t)=>{let r,a,i,s,d,l,c={$msgId$:t.$msgId$},p=o(t.$tasks$),$=0;for(;$<p;$++)try{l=$===p-1,a=(r=t.$tasks$[$]).$winId$,i=r.$applyPath$,!y[a]&&a.startsWith("f_")&&await new Promise(e=>{let t=0,n=()=>{y[a]||t++>1e3?e():requestAnimationFrame(n)};n()}),1===i[0]&&i[1]in y[a].$window$?v(new y[a].$window$[i[1]](...N(e,i[2])),r.$instanceId$):(s=b(a,r.$instanceId$))?(d=D(e,a,s,i,l,r.$groupedGetters$),r.$assignInstanceId$&&("string"==typeof r.$assignInstanceId$?v(d,r.$assignInstanceId$):y[r.$assignInstanceId$.$winId$]={$winId$:r.$assignInstanceId$.$winId$,$window$:{document:d}}),n(d)&&(d=await d,l&&(c.$isPromise$=!0)),l&&(c.$rtnValue$=k(a,d))):(c.$error$=`Error finding instance "${r.$instanceId$}" on window ${L(a)}`,console.error(c.$error$,r))}catch(e){l?c.$error$=String(e.stack||e):console.error(e)}return c},D=(e,t,n,r,i,s)=>{let d,l,c,p,$,u=0,m=o(r);for(;u<m;u++){l=r[u],d=r[u+1],c=r[u-1];try{if(!Array.isArray(d)){if("string"==typeof l||"number"==typeof l){if(u+1===m&&s)return $={},s.map(e=>$[e]=n[e]),$;n=n[l]}else{if(0===d){n[c]=N(e,l);return}if("function"==typeof n[c]&&(p=N(e,l),"define"===c&&"CustomElementRegistry"===a(n)&&(p[1]=A(t,e,p[1])),"insertRule"===c&&p[1]>o(n.cssRules)&&(p[1]=o(n.cssRules)),n=n[c].apply(n,p),"play"===c))return Promise.resolve()}}}catch(e){if(i)throw e;console.debug("Non-blocking setter error:",e)}}return n},F=(e,t)=>{let n,r,a,i=t.$winId$,s=t.$window$,d=s.document,l='script[type="text/partytown"]:not([data-ptid]):not([data-pterror])';if(d&&d.body){if((n=d.querySelector('script[type="text/partytown"]:not([data-ptid]):not([data-pterror]):not([async]):not([defer])'))||(n=d.querySelector(l)),n)n.dataset.ptid=r=h(n,i),a={$winId$:i,$instanceId$:r},n.src?(a.$url$=n.src,a.$orgUrl$=n.dataset.ptsrc||n.src):a.$content$=n.innerHTML,e.postMessage([7,a]);else{if(!t.$isInitialized$){t.$isInitialized$=1,((e,t,n)=>{let r,a,i=n._ptf,s=(n.partytown||{}).forward||[],d=(n,r)=>e.postMessage([10,{$winId$:t,$forward$:n,$args$:k(t,Array.from(r))}]);if(n._ptf=void 0,s.map(e=>{a=n,e.split(".").map((e,t,n)=>{a=a[n[t]]=t+1<o(n)?a[n[t]]||("push"===n[t+1]?[]:{}):(...e)=>d(n,e)})}),i)for(r=0;r<o(i);r+=2)d(i[r],i[r+1])})(e,i,s),d.dispatchEvent(new CustomEvent("pt0"));{let e=s===s.top?"top":"iframe";T(`Executed ${e} window ${L(i)} environment scripts in ${(performance.now()-t.$startTime$).toFixed(1)}ms`)}}e.postMessage([8,i])}}else requestAnimationFrame(()=>F(e,t))},z=(e,t,n)=>{if(!g.has(n)){g.set(n,t);let r=n.document,o=n.history,a=g.get(n.parent),i=!1,s=[],d=e=>{i?e():s.push(e)},l=()=>{e.postMessage([5,{$winId$:t,$parentWinId$:a,$url$:r.baseURI,$visibilityState$:r.visibilityState}]),setTimeout(()=>{i=!0,s.forEach(e=>{e()})})},c=o.pushState.bind(o),p=o.replaceState.bind(o),$=(n,o,a,i)=>()=>{setTimeout(()=>{e.postMessage([13,{$winId$:t,type:n,state:o,url:r.baseURI,newUrl:a,oldUrl:i}])})};o.pushState=(e,t,n)=>{c(e,t,n),d($(0,e,null==n?void 0:n.toString()))},o.replaceState=(e,t,n)=>{p(e,t,n),d($(1,e,null==n?void 0:n.toString()))},n.addEventListener("popstate",e=>{d($(2,e.state))}),n.addEventListener("hashchange",e=>{d($(3,{},e.newURL,e.oldURL))}),n.addEventListener("ptupdate",()=>{F(e,y[t])}),r.addEventListener("visibilitychange",()=>e.postMessage([14,t,r.visibilityState])),y[t]={$winId$:t,$window$:n},y[t].$startTime$=performance.now();{let e=t===a?"top":"iframe";T(`Registered ${e} window ${L(t)}`)}"complete"===r.readyState?l():n.addEventListener("load",l)}},G=(e,t,n)=>{4===t[0]?z(e,l(),S):(n=y[t[1]])&&(7===t[0]?requestAnimationFrame(()=>F(e,n)):6===t[0]&&((e,t,n,r,o)=>{(o=t.$window$.document.querySelector(`[data-ptid="${n}"]`))&&(r?o.dataset.pterror=r:o.type+="-x",delete o.dataset.ptid),F(e,t)})(e,n,t[2],t[3]))},H=()=>{let e=Object.getOwnPropertyNames(S).map(e=>((e,t,n,r)=>{if(n=t.match(/^(HTML|SVG)(.+)Element$/))return r=n[2],"S"==t[0]?e.createElementNS("http://www.w3.org/2000/svg",$[r]||r.slice(0,2).toLowerCase()+r.slice(2)):e.createElement(p[r]||r)})(E,e)).filter(e=>e).map(e=>[e]);return J(e,[])},V=new Set(["Object"]),J=(e,t)=>{let n=e.filter(e=>e[0]).map(e=>{let t=e[0],n=e[1],r=a(t),o=S[r].prototype;return[r,o,t,n]});return n.map(([e,n,r,o])=>Q(V,t,e,n,r,o)),t},B=(e,t,n)=>{let r=[],o=[e,"Object",r];for(n in t)X(r,t,n);return o},Q=(e,t,n,r,o,i)=>{if(!e.has(n)){e.add(n);let s=Object.getPrototypeOf(r),l=a(s),c=[],p=Object.getOwnPropertyDescriptors(r);for(let n in Q(e,t,l,s,o,i),p)X(c,o,n);t.push([n,l,c,i,d(o)])}},X=(e,t,n,r,o,i)=>{try{s(n)&&isNaN(n[0])&&"all"!==n&&(o=typeof(r=t[n]),"function"===o?(String(r).includes("[native")||Object.getPrototypeOf(t)[n])&&e.push([n,5]):"object"===o&&null!=r?(i=a(r),"Object"!==i&&self[i]&&e.push([n,r.nodeType||i])):"symbol"!==o&&(n.toUpperCase()===n?e.push([n,6,r]):e.push([n,6])))}catch(e){console.warn(e)}},K=e=>{let t,n=[],r=0,a=o(S[e]);for(;r<a;r++)n.push([t=S[e].key(r),S[e].getItem(t)]);return n},Y=(e,t)=>void 0!==e[t]?new e[t](r):0,Z=(e,t,n)=>{void 0!==t[n]&&e.push([n,"Object",Object.keys(t[n].prototype).map(e=>[e,6]),12])};(async e=>{let t=new SharedArrayBuffer(1073741824),n=new Int32Array(t);return(r,o)=>{let a=o[0],i=o[1];if(0===a){let e=(()=>{let e=E.createElement("i"),t=E.createTextNode(""),n=E.createComment(""),r=E.createDocumentFragment(),o=E.createElement("p").attachShadow({mode:"open"}),a=Y(S,"IntersectionObserver"),i=Y(S,"MutationObserver"),s=Y(S,"ResizeObserver"),d=S.performance,l=S.screen,c=[[S.history],[d],[d.navigation],[d.timing],[l],[l.orientation],[S.visualViewport],[a,12],[i,12],[s,12],[t],[n],[r],[o],[e],[e.attributes],[e.classList],[e.dataset],[e.style],[E],[E.doctype]],p=[B("Window",S),B("Node",t)],$=JSON.stringify(M,(e,t)=>("function"==typeof t&&(t=String(t)).startsWith(e+"(")&&(t="function "+t),t)),u={$config$:$,$interfaces$:J(c,p),$libPath$:new URL(O,S.location)+"",$origin$:origin,$localStorage$:K("localStorage"),$sessionStorage$:K("sessionStorage")};return Z(u.$interfaces$,S,"IntersectionObserverEntry"),u})();e.$sharedDataBuffer$=t,r.postMessage([1,e])}else 2===o[0]?r.postMessage([3,H()]):11===a?e(i,e=>{let t=JSON.stringify(e),r=t.length;for(let e=0;e<r;e++)n[e+1]=t.charCodeAt(e);n[0]=r,Atomics.notify(n,0)}):G(r,o)}})((e,n)=>q(t,e).then(n)).then(e=>{e&&((t=new Worker(O+"partytown-ww-atomics.js?v=0.7.5",{name:"Partytown \uD83C\uDF89"})).onmessage=n=>{let r=n.data;12===r[0]?q(t,r[1]):e(t,r)},T("Created Partytown web worker (0.7.5)"),t.onerror=e=>console.error("Web Worker Error",e),S.addEventListener("pt1",e=>z(t,h(e.detail.frameElement),e.detail)))})})(window);