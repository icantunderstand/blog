{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/react-native-start",
    "result": {"data":{"markdownRemark":{"html":"<!-- vscode-markdown-toc -->\n<ul>\n<li>\n<ol>\n<li><a href=\"#\">背景知识</a></li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li><a href=\"#RN\">RN项目初始化</a></li>\n</ol>\n<ul>\n<li>2.1. <a href=\"#-1\">依赖安装</a></li>\n<li>2.2. <a href=\"#cli\">cli初始项目</a></li>\n<li>2.3. <a href=\"#typescript\">使用typescript模板初始项目</a></li>\n</ul>\n</li>\n<li>\n<ol start=\"3\">\n<li><a href=\"#RN-1\">RN项目启动&#x26;调试</a></li>\n</ol>\n<ul>\n<li>3.1. <a href=\"#metro\">启动metro</a></li>\n<li>3.2. <a href=\"#-1\">启动项目</a>\n<ul>\n<li>3.2.1. <a href=\"#-1\">正常模式启动项目</a></li>\n<li>3.2.2. <a href=\"#debug\">debug模式启动项目</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<ol start=\"4\">\n<li><a href=\"#-1\">参考</a></li>\n</ol>\n</li>\n</ul>\n<!-- vscode-markdown-toc-config\n\tnumbering=true\n\tautoSave=true\n\t/vscode-markdown-toc-config -->\n<!-- /vscode-markdown-toc -->\n<p>在<a href=\"https://icantunderstand.cn/2021-11-03\">11月的前端快报</a>中有系列文章介绍了React Native新架构的相关概念，笔者也有一定的React Native开发经验，但是总感觉没有深入到React Native的细节实现停留到用的层面偏多，这个深入浅出React Native系列注重从源码的角度梳理RN的实现细节，希望通过这个系列能熟悉RN的细节拓展端知识，希望能跟你一起有所收获。</p>\n<h2>1. <a name=''></a>背景知识</h2>\n<p>本系列基于Android代码的基础上进行源码分析，涉及到Android相关的基础知识，可以参考之前的笔记<a href=\"https://icantunderstand.cn/android-basic\">第一行代码-Android读书笔记</a>和<a href=\"https://icantunderstand.cn/%E8%B7%A8%E7%AB%AF%E6%8A%80%E6%9C%AF/\">跨端技术</a></p>\n<p>在系列文章中使用RN来指代React Native</p>\n<h2>2. <a name='RN'></a>RN项目初始化</h2>\n<h3>2.1. <a name='-1'></a>依赖安装</h3>\n<ul>\n<li>\n<p>Android Studio</p>\n</li>\n<li>\n<p><a href=\"https://developer.android.com/studio/run/emulator\">创建Android虚拟机</a></p>\n</li>\n<li>\n<p>JDK 这里推荐自己手动<a href=\"https://www.oracle.com/java/technologies/java8.html\">下载JDK</a>进行安装并且在控制台的启动配置上配置Android和JDK配置</p>\n<pre><code>  // Android\n  export ANDROID_HOME=$HOME/Library/Android/sdk\n  export PATH=$PATH:$ANDROID_HOME/emulator\n  export PATH=$PATH:$ANDROID_HOME/tools\n  export PATH=$PATH:$ANDROID_HOME/tools/bin\n  export PATH=$PATH:$ANDROID_HOME/platform-tools\n  // Java\n  export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home\n  export PATH=$JAVA_HOME/bin:$PATH\n  export CLASS_PATH=$JAVA_HOME/lib  \n</code></pre>\n</li>\n<li>\n<p>node watchman\nnode推荐使用<a href=\"https://github.com/nvm-sh/nvm\">nvm</a>进行安装\nwatchman使用<a href=\"https://brew.sh/\">Homebrew</a></p>\n</li>\n</ul>\n<h3>2.2. <a name='cli'></a>cli初始项目</h3>\n<p>按照<a href=\"https://reactnative.dev/docs/environment-setup\">官方文档</a>的步骤选择配置条件，这里使用Cli初始项目<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4UlEQVQoz61R7W7DMAj0+7/jtLZalviTJrZxnUS5CbJJ1X5uRTqBDziwbYjuiDEiV8b10+L9Y8RlmPB2G/BYNxzHgW3fT2wbdvVn/BuSM9Y5JCJY5+FjgvURLkRYgXDeY55nMDfknFEro9aqnJwFpVTlcikwIUZNppQQQtBtReROpJz3AcuyoJSiTdqYM5j55Jg1r8OYYay1cM6BiFRMvAyROKUf7nyW8MTJsPhdF+Q21qG1BnMbRkzWofeO/QDauuM/ZqZAKsK1ojxW+Lmo8J8Fr8Oov/kqM44W3Wzt/SWCX3jVbju+Qd6vAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cli配置\"\n        title=\"cli配置\"\n        src=\"/static/34c810777b55c962d15e1c6a1593e3af/00d43/cliConfig.png\"\n        srcset=\"/static/34c810777b55c962d15e1c6a1593e3af/63868/cliConfig.png 250w,\n/static/34c810777b55c962d15e1c6a1593e3af/0b533/cliConfig.png 500w,\n/static/34c810777b55c962d15e1c6a1593e3af/00d43/cliConfig.png 1000w,\n/static/34c810777b55c962d15e1c6a1593e3af/aa440/cliConfig.png 1500w,\n/static/34c810777b55c962d15e1c6a1593e3af/e8950/cliConfig.png 2000w,\n/static/34c810777b55c962d15e1c6a1593e3af/b75f8/cliConfig.png 2124w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3>2.3. <a name='typescript'></a>使用typescript模板初始项目</h3>\n<p>使用typescript初始化项目</p>\n<pre><code>npx react-native init AwesomeTSProject --template react-native-template-typescript  \n</code></pre>\n<p>项目目录如下:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 736px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ef5f8a4e4b272b12658513416b29ba6e/f941f/projectCategory.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 244.79999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAxCAYAAADa6ImIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEuklEQVRIx6VXaXPiVhDkj6zN/XRfgPR0IHGZwxgbH7WV3doklfz//9CpHhCpVCpGbD5MPYwe7ZnpnkOtMAxhmjZs24XnBdA6w2g0gVKmfH+rtcbjCdK0wnS6xH5/xI8ff+D799/x7dtvyLI5tC6hddXYWlEUwXUDBMEY43GCLJtiOp2hqhYIgpE8c92wsbWCIEC324NpmjAME2VZYrfb4fn5Bb7vo9PpoN/vo9drZgLY7w9gWcyBBa1TzOcL2LYjFwaD4U12ASQYLY4TbLc7hGEknv8vQMdxUVUz5HmBTqd7M9i/ABl2nueYTkvJJ7//eUDDhOc4WC5XOBye8fJylAvtduemXJ4Ae32Yrg8/zpEkCZJEI4pGCIJQcspU8PJwqBoAhiH6nQ6c8gH+4wemeYbt7lGI2Wy2Ih+Cf/lyh067ezUNrTAI0O4PUFk2PiwbUZwIMWVZiadpmglJs9kMWZbLjz4DFcBOf4DUtLG1PZTzOZaLpRBD4PV6g4eHNWazuRjD/hSQOWTSLcfBRGvxhCD7/V5EzlDv79tCDu1qyEx8r9eDG4wQF3PEk1hCK4qp5M6yLJEQPWtOSrsNp1oj/PgT69VJNiSDob6+vmI0GuPu7r6ZbOocatPGzvURp5lIpbaaGH5uIvYLyzPDwFfThi6mWMwXQgybxGazEXJWqwe4rndV5KeQu11YuoS12CPTWqqFsmEu6R3/JutNKkYAe90u3DiHl80EkB5RIvRqcfY0L4oba1kZyPRJ1HdnqZAIGqVTS+aatTiklGnBdj34YYQkzeD5ARzXQxCNELKmwwim7ci9a9YKowiW68ELI6TFFK/vH9gfnrFcb/D8+obD8Yivv3zDONEwbAe258v9/zLJIWMfjSci5CwvhBAKu6xmcjKUoTIu4v7MLqVH8RKQZJDRoijkJCH1KGiUQ042ZZiYFFN4no/9/ukik+VyiaenJ7ie17jJiod0NQxjOI4nIdb6i+NYTjbYxoB+4MNQFo7lr5iMNLa7HZ6eDiIfhstLtwws8ZAfTMuV3YQtazKJpYZ5Mq9KGY0H1glwqKBsV4jhcFqv11LDPE8bRNB4Rv/toeOJoHe7RwmVITN/DPeWcXoBHBi2eDKfzwUsyzJwM7t1HTmzPERZKkRRgNVqjcfHvUw8Dic2B0MZt4Ws1BBhqKTfkZRaNiSlnst8dm1AnWTjBzBNhTw3ZEE6ebc5i/ogA4vn+/tHowVKAA2DtaxAb+kZ2aan9UpHo3dN5HMGVJhMBrKG0MO65fNZTUpdq81IUSYGQYZYZzLpSAQJ+fmFczCEF7mIRpE0BRJBydSXbt6+KJuHlUJRpDgcXqTb0Et2nre3N0lD0xX5IpsoUsIi+yHrmF4ShHnkdtFEMv/wUGuFJIlF0JQKQ+dg4oDioLqxHw4xPsumLjuKuqoq0SO7N8V9k4dxrOS95LS05xI2m209nxkyPb7eYM+VkqbqokNKh4QQkJ/5T7jesQs1ErbUcsTSC6WOSQj3REqHofOkceY09HCING5Day11S6+Ox6MQxHAJxk2imWx8H0PDQrA6YDRJBFSnqbB8elNN5f2l+QjgGLUcBNt3xGkuL44UNj1lPtnBGWqv20w2fwHibuG4+qYUXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"项目目录\"\n        title=\"项目目录\"\n        src=\"/static/ef5f8a4e4b272b12658513416b29ba6e/f941f/projectCategory.png\"\n        srcset=\"/static/ef5f8a4e4b272b12658513416b29ba6e/63868/projectCategory.png 250w,\n/static/ef5f8a4e4b272b12658513416b29ba6e/0b533/projectCategory.png 500w,\n/static/ef5f8a4e4b272b12658513416b29ba6e/f941f/projectCategory.png 736w\"\n        sizes=\"(max-width: 736px) 100vw, 736px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>android目录对应当前项目安卓代码的位置</li>\n<li>index.js是项目RN的入口文件(在MainApplication的ReactNativeHost的getJSMainModuleName方法关联指定入口)</li>\n</ul>\n<h2>3. <a name='RN-1'></a>RN项目启动&#x26;调试</h2>\n<h3>3.1. <a name='metro'></a>启动metro</h3>\n<p><a href=\"https://developer.android.com/studio/run/emulator\">metro</a>是react native的打包,通过启动metro server才能在项目中访问对应打包好的入口文件</p>\n<pre><code>npx react-native start\n</code></pre>\n<h3>3.2. <a name='-1'></a>启动项目</h3>\n<p>在Android Studio导入刚才初始化项目的android目录，</p>\n<h4>3.2.1. <a name='-1'></a>正常模式启动项目</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/09ae1afd35f64c13097b4c4898839eef/f4281/normalStart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAcElEQVQI113DTQ7CIBCA0R4MYQqF8jNT6sIaN97/Fp9Lk77kLf4R+Be8CwQR1rSy9R01Y0uZFDOHTXpXXhL4bo7LO0QisSbiGpGsLLkN7ksf7KpUOxjzpA6j2YGeT5pNrt74aOXdKqUrdRr7UMqY/ACzNElXfGTsgQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"正常启动\"\n        title=\"正常启动\"\n        src=\"/static/09ae1afd35f64c13097b4c4898839eef/00d43/normalStart.png\"\n        srcset=\"/static/09ae1afd35f64c13097b4c4898839eef/63868/normalStart.png 250w,\n/static/09ae1afd35f64c13097b4c4898839eef/0b533/normalStart.png 500w,\n/static/09ae1afd35f64c13097b4c4898839eef/00d43/normalStart.png 1000w,\n/static/09ae1afd35f64c13097b4c4898839eef/f4281/normalStart.png 1016w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4>3.2.2. <a name='debug'></a>debug模式启动项目</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ca8ec696ea59c20a4013243dd038753f/ddb6a/debugStart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAANklEQVQI14XDwRGAMAwDQWqLQbLjkC/038hRAjuzx4iLvyFR+yarqV702oSNZV4PHouck1PJB6G8JHOPAWYtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"debug启动\"\n        title=\"debug启动\"\n        src=\"/static/ca8ec696ea59c20a4013243dd038753f/00d43/debugStart.png\"\n        srcset=\"/static/ca8ec696ea59c20a4013243dd038753f/63868/debugStart.png 250w,\n/static/ca8ec696ea59c20a4013243dd038753f/0b533/debugStart.png 500w,\n/static/ca8ec696ea59c20a4013243dd038753f/00d43/debugStart.png 1000w,\n/static/ca8ec696ea59c20a4013243dd038753f/aa440/debugStart.png 1500w,\n/static/ca8ec696ea59c20a4013243dd038753f/ddb6a/debugStart.png 1592w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 812px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c44eb22046aa719f25cbd994e0300adf/63ec5/startPage.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 175.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFfUlEQVRIx62W229UVRTG5434pj4ibbn4B8iT+g8Q3/CZNw0KbZlehk5IozGSqAxFxaIBNEjhgXBviIAFOkMp0HY6Q0srpTd6v19n5lzncmbmZ9aezlASTUCZZGXts9fe31lrf9/aZ1xFm4p468232bJ5KyXFm9myZRvbtr5LcXEJxUUlFMvc5q1sLtminovW26bi3JqiEjZseIOSjZtwbX9vO/vcbioqKykvL6e6uhpvjZeamhq8Xm9hrMzrVSbz+XhVVRUVFRV8vHMnGze+g2vXrl14qqooK93LZ7t3K/D9+/crYI+nmupqD9UeD/s91dR41s2puIfKykr27NlDaVkZH7z/Ia6Kyiq++eFHvj50mCN1dXx/+DCHfD58Pp/ydWt28JCPrw75+Nbn4/BaPG91dXUcOXKEHTs+wtXgb6U3nqF9WSO0ajAVM7B0HV3XlV/UDLoiJsGISXjNL2s6xtoaMU3TiNtx9u4txXXh7gPS2SyarjOpW3REbZ5qFpZpMq5btEVtnmkWmmmSME36NYs+zVJjwzQxxRsGyWSSstJyXLdaWiGTyb3FNIgZBj1Rk2DUIhy1WNIFyFCbbNNgXjfVvGnk5sQky0QikQO83dJKNpshpmnoRm7zWMygecWkN2qqsrU1M3WNec1Qpcfk2XwOqgDLynH9efceZDMYuqbAZg2LLiuN7aTps1KMJdKQSZNJp4Esq0mHJ/EMjuMUyi0ASoZXA63EM1mmohqz8RSXe/r5pOYAJxrO8t2J3zh6/TYX/rjB+auNnD9/nsaW+9Sfu8h9f3MOzDQLJZcK4KnmVnqT0Lmi89BweDgxw8kzZ6n/vYGfT53mTOM1Dp45x+nbdzl4/FeON/mpv3aThsZrGKalzl3X12V48k4rRibLZCTGX3aaxsZGusMhlhcXmZueYnhggOtdvVy87Wd8cpKGwH2a+wa5NTzB/YUIU4aNZawjpaG5hQkHpcNIGn6pr2d3lYfPa7+kvPYL6o8d4/KVK3zqraX0QC27ytzU/3SUA14vbb1P6LbS9EUMUnlSbgZaCCehJ2IoUmYMm3urJi1LGv4ljcHYGvOGzZ3FGGNRnbhlKVXYho5umnRGLBbiSdwC2BwIEE7AQEQnaegMx0z8EZvWqE0gYtMdtRTgnG5wN2orHVqKWRNdtGnoKplRK0lFWRmuew8eogFLdgInlcJMppiLp1hIOMwnHWIph4zjoKcc5hI5n3YcUo6jpCN+MeGQAtz73LiCHR28rl+FuwJXd1cXg0ND3Lhxg+7ubtra22lra8OyrJcGymbXAYY6O1VjP336lKmpKVZXV5mcnCSVSv23DEOdISzbUiD9/f0MDw8zMTHB3NycsrGxMUZHR5menlaWnxMvCUQikRcBw6EwKysrCigPKoDyLBsFZGhoiJmZGRUXkGg0qgCElEwm8yJgxxopEsxms2qBWDqdLngxiefH2fyh/VPJwY6gepCFcm75N8bjcTX3ymfY1dXFyOio6mEhxu/3Ew6HkfmmpiYCgQCXLl2ivb395QA7g50qk+XlZXW/yfnIOBaLqWtJWBcCxEvWYiIpuQzy43wlBZYFSEgYGRlhfHxcjZ89e8bi4iKzs7MKTAiSmJCysLBQYFnm8xJz53Vox20VlM2Dg4MFLQr7r3yGHe2vufVCoZC6yqXc+fl59fXLtVO2II/1/t8kUwB89OiRKld6WRgOBoP/L8M8gDAqrElHSKZyjtIlwrYQIOyLly5aWlrKfadt+4UKCiUL2MDAgGJXWq+vr0+R09PTo1h8/PixAurt7VV6FL1KXHpc5JP/udcDCpCwLG+VhpeM8v9bRJfiJVthXsayRuSTP/McoFuEnStZgq9yB754H2afA75O2cgn4G/2KIQ8+9ibMgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"页面展示\"\n        title=\"页面展示\"\n        src=\"/static/c44eb22046aa719f25cbd994e0300adf/63ec5/startPage.png\"\n        srcset=\"/static/c44eb22046aa719f25cbd994e0300adf/63868/startPage.png 250w,\n/static/c44eb22046aa719f25cbd994e0300adf/0b533/startPage.png 500w,\n/static/c44eb22046aa719f25cbd994e0300adf/63ec5/startPage.png 812w\"\n        sizes=\"(max-width: 812px) 100vw, 812px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n这样我们基于官方的教程就完成了RN项目的初始化和启动过程了，接下来就可以进入的源码来看RN的加载流程了！！！</p>\n<h2>4. <a name='-1'></a>参考</h2>\n<p><a href=\"https://reactnative.dev/docs/environment-setup\">Setting up the development environment</a>\n<a href=\"https://developer.android.com/studio/debug\">调试应用</a></p>","frontmatter":{"date":"2021-11-04","path":"/react-native-start","title":"深入浅出RN之项目初始化&调试"}}},"pageContext":{"readingTime":"4 min read"}},
    "staticQueryHashes": []}