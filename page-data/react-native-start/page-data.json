{"componentChunkName":"component---src-templates-post-js","path":"/react-native-start","result":{"data":{"markdownRemark":{"html":"<!-- vscode-markdown-toc -->\n<ul>\n<li>\n<ol>\n<li><a href=\"#\">背景知识</a></li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li><a href=\"#RN\">RN项目初始化</a></li>\n</ol>\n<ul>\n<li>2.1. <a href=\"#-1\">依赖安装</a></li>\n<li>2.2. <a href=\"#cli\">cli初始项目</a></li>\n<li>2.3. <a href=\"#typescript\">使用typescript模板初始项目</a></li>\n</ul>\n</li>\n<li>\n<ol start=\"3\">\n<li><a href=\"#RN-1\">RN项目启动&#x26;调试</a></li>\n</ol>\n<ul>\n<li>3.1. <a href=\"#metro\">启动metro</a></li>\n<li>3.2. <a href=\"#-1\">启动项目</a>\n<ul>\n<li>3.2.1. <a href=\"#-1\">正常模式启动项目</a></li>\n<li>3.2.2. <a href=\"#debug\">debug模式启动项目</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<ol start=\"4\">\n<li><a href=\"#-1\">参考</a></li>\n</ol>\n</li>\n</ul>\n<!-- vscode-markdown-toc-config\n\tnumbering=true\n\tautoSave=true\n\t/vscode-markdown-toc-config -->\n<!-- /vscode-markdown-toc -->\n<p>在<a href=\"https://icantunderstand.cn/2021-11-03\">11月的前端快报</a>中有系列文章介绍了React Native新架构的相关概念，笔者也有一定的React Native开发经验，但是总感觉没有深入到React Native的细节实现停留到用的层面偏多，这个深入浅出React Native系列注重从源码的角度梳理RN的实现细节，希望通过这个系列能熟悉RN的细节拓展端知识，希望能跟你一起有所收获。</p>\n<h2>1. <a name=''></a>背景知识</h2>\n<p>本系列基于Android代码的基础上进行源码分析，涉及到Android相关的基础知识，可以参考之前的笔记<a href=\"https://icantunderstand.cn/android-basic\">第一行代码-Android读书笔记</a>和<a href=\"https://icantunderstand.cn/%E8%B7%A8%E7%AB%AF%E6%8A%80%E6%9C%AF/\">跨端技术</a></p>\n<p>在系列文章中使用RN来指代React Native</p>\n<h2>2. <a name='RN'></a>RN项目初始化</h2>\n<h3>2.1. <a name='-1'></a>依赖安装</h3>\n<ul>\n<li>\n<p>Android Studio</p>\n</li>\n<li>\n<p><a href=\"https://developer.android.com/studio/run/emulator\">创建Android虚拟机</a></p>\n</li>\n<li>\n<p>JDK 这里推荐自己手动<a href=\"https://www.oracle.com/java/technologies/java8.html\">下载JDK</a>进行安装并且在控制台的启动配置上配置Android和JDK配置</p>\n<pre><code>  // Android\n  export ANDROID_HOME=$HOME/Library/Android/sdk\n  export PATH=$PATH:$ANDROID_HOME/emulator\n  export PATH=$PATH:$ANDROID_HOME/tools\n  export PATH=$PATH:$ANDROID_HOME/tools/bin\n  export PATH=$PATH:$ANDROID_HOME/platform-tools\n  // Java\n  export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home\n  export PATH=$JAVA_HOME/bin:$PATH\n  export CLASS_PATH=$JAVA_HOME/lib  \n</code></pre>\n</li>\n<li>\n<p>node watchman\nnode推荐使用<a href=\"https://github.com/nvm-sh/nvm\">nvm</a>进行安装\nwatchman使用<a href=\"https://brew.sh/\">Homebrew</a></p>\n</li>\n</ul>\n<h3>2.2. <a name='cli'></a>cli初始项目</h3>\n<p>按照<a href=\"https://reactnative.dev/docs/environment-setup\">官方文档</a>的步骤选择配置条件，这里使用Cli初始项目<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5UlEQVQoz62Q22rEMAxE/f9/WHp72Gazvmrt2Epjh0yRQqH0dVcwyB7BGSFDdEeMEaUx3meL12nG23TDy+UK7gPHcWDs+6kxsGs/3/8lM2OdQyKCdR4uJtxChA1nvzkP7z1yLmBesSwLWmO01pBz1r+o1qb+UitMiFGHKSWEEHRbgdyJ1PM+oJSCWquCRAJh5tNj1rmGMcNYa+GcAxEpTEASIkrp9H7P8teTMOkxyiIR1jqs6wrzOc2YrcO2bRgHUPuOR8p8BULrO1ju8t1xzQ39eAD4Mc1Y+8CzykxUdLO+bU8B/gA2hG4JYWmz4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cli配置\"\n        title=\"cli配置\"\n        src=\"/blog/static/34c810777b55c962d15e1c6a1593e3af/00d43/cliConfig.png\"\n        srcset=\"/blog/static/34c810777b55c962d15e1c6a1593e3af/63868/cliConfig.png 250w,\n/blog/static/34c810777b55c962d15e1c6a1593e3af/0b533/cliConfig.png 500w,\n/blog/static/34c810777b55c962d15e1c6a1593e3af/00d43/cliConfig.png 1000w,\n/blog/static/34c810777b55c962d15e1c6a1593e3af/aa440/cliConfig.png 1500w,\n/blog/static/34c810777b55c962d15e1c6a1593e3af/e8950/cliConfig.png 2000w,\n/blog/static/34c810777b55c962d15e1c6a1593e3af/b75f8/cliConfig.png 2124w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3>2.3. <a name='typescript'></a>使用typescript模板初始项目</h3>\n<p>使用typescript初始化项目</p>\n<pre><code>npx react-native init AwesomeTSProject --template react-native-template-typescript  \n</code></pre>\n<p>项目目录如下:<br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 736px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/ef5f8a4e4b272b12658513416b29ba6e/f941f/projectCategory.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 244.79999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAxCAYAAADa6ImIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAE20lEQVRIx51X6W7bZhD0W/RHEVkHKV7iLfEmJUqyZFmSryRFEyRtUfT9X2GKWZpOgqAW2R+LTyE/b2Z3Zg9e+b4Pw7BgWTYcx0MSZwjDBTTNkOd97Wo+XyBNVyjLLY7HJ3z58jc+f/4Lnz79gSyrkSTLXnYVBAFs24fnzTGfx8iyEmW5wnK5lme27cn7rnbleR7G4wkMw4CuG6iqCofDAff3D3BdF6PRCIqiYDLpZuJQUVSYJnNgIklS1PUaljWTC6qqQVWnne3VIZ3RoijG7e0Bvh8I8j7OfnI4m9lYLlfI8wKj0bi3s58RmpY4K8tK8snn/z9k3YBjzbDZbHE+3+Ph4VEuDIejl1x2duhDmSjQbRdWVCCOY8RxgiAIwXfMKVPBy9Op1sGh70MdDqFWO6jHj6iyDLeHOyFmv78V+dD5u3cDjIZjKMoFh77n4VpRsdZMfFZNBFEsxFTVUpCmaSZ5Xa1qZFkuf/SWU3E4UlTkmomTbqOqa2zWGyGGjne7PW5uduKQxrAbst4ghUk3ZzMs0gSrZS1OjsejiJyhXl8PhRzaW86+I2UCywsRFDWiRSShFUUpuTMNSyREZP1IWe0x/u0f7LeNbEgGQ316ekYYzjEYXHeTTZvDjDk0HURphjiKRS60lhj+/ib2SyyrU2xUDV8VA3FZYl2vhRg2CUqH5Gy3N7Bt56LIm5BZt2mF4faMLE6w3mxFNswl0bF6yHqXihGHyngMI8phZDWyJBFElAhRrV+Q5kUBpU8tm5qOPKaoawxepEIixN4NXiVzya44pDTDhGU7cP0AcZrB8Xz5t8d6DkJ5blgzuXfJrvwggGE7sP0ASVHi8cMH3J3vsdntcf/0jNPjEz7+/glhnECzZjAdV+7/lzWkqBrC+QJ+ECLLCyEkL0pUy5UIfKKomGr6q7jfstfSo3hZGSSDjNIRTxLSjoJOOXRdD5puYF6UcBwXx+PpVSY8T6cTbMft3GQFIaH6PhupI8ha/bE6ePJ5Z4eu50LXTLwv/0QUJrg9HHA6nUWLDJeX+gwsQcgfumnLbsKWtVhEUsM8mVfuOZdq+EeHZMhyhBgOp91uh/1+L2ezQXidZ/QLQg36zIHjejgc7iRUhsz8Mdyu6H4IWdVngqSua3FGYriZ9Rmh37E8RVUNEAQuttsd7u6O0rY4nNgcdM3oF7KmTeH7Y+l3JKWVDUlp5zLfNQPqkmxcD4ahIs+HYKNo0O2x2WxEPhxYPN+//9BpgRKHuj5FOB+DaImMbBNpu9JNJqqg0zT98ghoHUaLgawhRNi2fL5rSWlrtRvLmoGhX2CRZNjd7IQIEtKX4W8dW9VgByaCMJCmQCIomfZSz+2rkc3N9lcURYLz+UG6DFGy8zw/P+N4d/xuRe4omyAYC8ur1VrqmCjphHnkdnFpp/kJYZIMEccLETSlwtA5mLjbcFD17IdTzOcjeJ6LZdWUHUVNthk+eyTF3QthFI3ku6RZ2nMJm47a+cyQifhyg5VKmSJNr191yCWJhNAhf/M/4XrHLtRJ2FLLwURIYbgkhMgoHYbOk8aZ0wGh39Ry9AvSJJG6JarHx0chiOHSGTeJbrJxXai6Ce3mHkGUIEkSJGkmLDdfqpl8tnUfAa6LqTnD9PARizSXD8dmfJ4ln+zgDHUy7iabfwGst+EamUEFEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"项目目录\"\n        title=\"项目目录\"\n        src=\"/blog/static/ef5f8a4e4b272b12658513416b29ba6e/f941f/projectCategory.png\"\n        srcset=\"/blog/static/ef5f8a4e4b272b12658513416b29ba6e/63868/projectCategory.png 250w,\n/blog/static/ef5f8a4e4b272b12658513416b29ba6e/0b533/projectCategory.png 500w,\n/blog/static/ef5f8a4e4b272b12658513416b29ba6e/f941f/projectCategory.png 736w\"\n        sizes=\"(max-width: 736px) 100vw, 736px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>android目录对应当前项目安卓代码的位置</li>\n<li>index.js是项目RN的入口文件(在MainApplication的ReactNativeHost的getJSMainModuleName方法关联指定入口)</li>\n</ul>\n<h2>3. <a name='RN-1'></a>RN项目启动&#x26;调试</h2>\n<h3>3.1. <a name='metro'></a>启动metro</h3>\n<p><a href=\"https://developer.android.com/studio/run/emulator\">metro</a>是react native的打包,通过启动metro server才能在项目中访问对应打包好的入口文件</p>\n<pre><code>npx react-native start\n</code></pre>\n<h3>3.2. <a name='-1'></a>启动项目</h3>\n<p>在Android Studio导入刚才初始化项目的android目录，</p>\n<h4>3.2.1. <a name='-1'></a>正常模式启动项目</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/09ae1afd35f64c13097b4c4898839eef/f4281/normalStart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAb0lEQVQI12XDQQ6CMBBAUU5lTAQybdMpdDotrFBX3v8S37XxJW9aF+HnLKwiSAqEWjB3csqkmOk+qNW5lpmP3Hg97ogkZIvEEFlzY8q78bca2hrqnTpOijmld+w42fzg2grvXXkWRaujo6HWyDb4Aqk4SS61U1qpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"正常启动\"\n        title=\"正常启动\"\n        src=\"/blog/static/09ae1afd35f64c13097b4c4898839eef/00d43/normalStart.png\"\n        srcset=\"/blog/static/09ae1afd35f64c13097b4c4898839eef/63868/normalStart.png 250w,\n/blog/static/09ae1afd35f64c13097b4c4898839eef/0b533/normalStart.png 500w,\n/blog/static/09ae1afd35f64c13097b4c4898839eef/00d43/normalStart.png 1000w,\n/blog/static/09ae1afd35f64c13097b4c4898839eef/f4281/normalStart.png 1016w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4>3.2.2. <a name='debug'></a>debug模式启动项目</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/ca8ec696ea59c20a4013243dd038753f/ddb6a/debugStart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAN0lEQVQI14XDwQ3AIAwEwXSGhMFnwOEN/ReyKSEjzVPN+e2O9kuMJFayclMl1J3bCqcbmpOm4AOivyRtdwx38gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"debug启动\"\n        title=\"debug启动\"\n        src=\"/blog/static/ca8ec696ea59c20a4013243dd038753f/00d43/debugStart.png\"\n        srcset=\"/blog/static/ca8ec696ea59c20a4013243dd038753f/63868/debugStart.png 250w,\n/blog/static/ca8ec696ea59c20a4013243dd038753f/0b533/debugStart.png 500w,\n/blog/static/ca8ec696ea59c20a4013243dd038753f/00d43/debugStart.png 1000w,\n/blog/static/ca8ec696ea59c20a4013243dd038753f/aa440/debugStart.png 1500w,\n/blog/static/ca8ec696ea59c20a4013243dd038753f/ddb6a/debugStart.png 1592w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 812px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/c44eb22046aa719f25cbd994e0300adf/63ec5/startPage.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 175.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"页面展示\"\n        title=\"页面展示\"\n        src=\"/blog/static/c44eb22046aa719f25cbd994e0300adf/63ec5/startPage.png\"\n        srcset=\"/blog/static/c44eb22046aa719f25cbd994e0300adf/63868/startPage.png 250w,\n/blog/static/c44eb22046aa719f25cbd994e0300adf/0b533/startPage.png 500w,\n/blog/static/c44eb22046aa719f25cbd994e0300adf/63ec5/startPage.png 812w\"\n        sizes=\"(max-width: 812px) 100vw, 812px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n这样我们基于官方的教程就完成了RN项目的初始化和启动过程了，接下来就可以进入的源码来看RN的加载流程了！！！</p>\n<h2>4. <a name='-1'></a>参考</h2>\n<p><a href=\"https://reactnative.dev/docs/environment-setup\">Setting up the development environment</a>\n<a href=\"https://developer.android.com/studio/debug\">调试应用</a></p>","frontmatter":{"date":"2021-11-04","path":"/react-native-start","title":"深入浅出RN之项目初始化&调试"}}},"pageContext":{"readingTime":"4 min read"}},"staticQueryHashes":[]}