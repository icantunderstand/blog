{
    "componentChunkName": "component---src-templates-index-js",
    "path": "/",
    "result": {"pageContext":{"pageAllCount":96,"group":[{"node":{"id":"6b14bd4d-1cc8-57ef-b81a-bdbe405e6d96","html":"<h2>1.0 - 2017-02-25</h2>\n<blockquote>\n<p>åœ¨è¿™é‡Œè®°å½•ä¸‹å­¦ä¹ å‰ç«¯çš„è¿‡ç¨‹ã€‚æœ€è¿‘åœ¨åšå®¢å›­å†™è‡ªå·±ä¹‹å‰çš„åšå®¢çš„æ—¶å€™ï¼Œå‘ç°è‡ªå·±ä¸æ˜¯å¾ˆå–„äºæè¿°ä¸œè¥¿ï¼Œä¹Ÿå‘ç°åšå®¢å›­çš„ä¹¦å†™ä½“éªŒæ²¡é‚£ä¹ˆå¥½ï¼Œä¹‹å‰ä¸€ç›´æƒ³å¼„ä¸€ä¸ªè¿™æ ·çš„åšå®¢ï¼Œè¿™å°±ç®—æˆå‹äº†ã€‚<br>\nå¸Œæœ›é€šè¿‡è¿™ä¸ªåšå®¢æ¥é”»ç‚¼è‡ªå·±è¡¨è¾¾çš„èƒ½åŠ›åŒæ—¶èµ·åˆ°ç£ä¿ƒè‡ªå·±ç›®çš„ã€‚</p>\n</blockquote>\n<h2>2.0 - 2021-04-08</h2>\n<p>çœ‹åˆ°è¿™ä¸ªæ–‡æ¡£ä¸Šæ¬¡çš„ä¿®æ”¹è®°å½•å·²ç»æ˜¯ä¸‰å¹´ä¹‹å‰äº†,ä¸ªäººçš„åšå®¢åœ¨ä¸‰å¹´ä¸­æœ‰ä¸€ç›´ä¿æŒæ›´æ–°(è™½ç„¶é¢‘ç‡ä¸ŠğŸ˜¢ä¸é«˜).åº”è¯¥åœ¨å»å¹´å»ºäº†ä¸€ä¸ªå…¬ä¼—å·-å‰ç«¯å°æ¿å‡³å’Œæ˜é‡‘è´¦å·.\nå°æ¿å‡³çš„åˆè¡·æ˜¯æˆ‘èƒ½è·Ÿå¤§å®¶ä¸€èµ·ååœ¨æ¿å‡³ä¸Šä¸€èµ·å­¦ä¹ è¿›æ­¥(æˆ‘è¦æ˜¯åœ¨èƒ–ä¸‹å» å°æ¿å‡³è¦å˜æˆå¤§æ¿å‡³äº†â³â™¥ã‚›æ‰å¿ƒ),æœ€è¿‘é‡æ–°ç†äº†ä¸‹æ€è·¯ä»¥åå°æ¿å‡³å’Œè¿™ä¸ªåšå®¢ä¼šä¸»è¦ä»¥å¦‚ä¸‹çš„å†…å®¹è¿›è¡Œæ›´æ–°(è™½ç„¶æä¸å¥½å“ªå¤©å°±ä¸æ›´äº†).\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/23113f1a1ccecdfec79664828aa645e9/ad1ae/road.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.39999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVQ4y4WTW27bMBBFvfkC/elG0gL96Bby0zU0sRtbUiQ/JFKkxJfEU4iObSmNWwIEyBnO697LFW8rxpj2tNpWUdc1LoDqHFVVkRcFzrnr2/cxl/vqYjw7IsbB/nAiz3M6C6I1PK/XlGVFCOFuosv9lvDNaf3s4dStNuz3e6x1DMNACMMiwbIhWL2v0jvIipL1ek3bR6qjZrPZIISkrhuU1peARZezkWEYIQyRYTwn9D7gncMH6I1HqXYRNHU6xsg4jmnPu12dB7tVcn5ZWXeGXZahdYcNUJZ7mkYyRJCtQgix7FCbyLfHyMNj5MfPiOwhL0q2ux2diXQmIKXAOo/1E2EHXssDjdDkecHLy5bT6cQwjmcMawWfHuDz18iX75FGwzAEvPcJiq63STbWj3Q2opRCa40xPcbYhOkks/GSkAWnERfmcoBWTSwfkmTOmC2J+ICUmACegqfzpL3itSLLdigDeSkTy00jrlqdS+Uv2dwM5yrGRYx1WGsSZrXoF8D/V9hz45R1+inGWpzzyS6k4tfTE1LKNLa19orX3a83d04jZ3nJ8+Y3ou2RsuV4PNI0TQK/ESIRdjfh0hETs3Uj2G53lFX1TwI+GvkP6qVFIVq+nLwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"æŠ€æœ¯è·¯çº¿\"\n        title=\"æŠ€æœ¯è·¯çº¿\"\n        src=\"/blog/static/23113f1a1ccecdfec79664828aa645e9/00d43/road.png\"\n        srcset=\"/blog/static/23113f1a1ccecdfec79664828aa645e9/63868/road.png 250w,\n/blog/static/23113f1a1ccecdfec79664828aa645e9/0b533/road.png 500w,\n/blog/static/23113f1a1ccecdfec79664828aa645e9/00d43/road.png 1000w,\n/blog/static/23113f1a1ccecdfec79664828aa645e9/aa440/road.png 1500w,\n/blog/static/23113f1a1ccecdfec79664828aa645e9/e8950/road.png 2000w,\n/blog/static/23113f1a1ccecdfec79664828aa645e9/ad1ae/road.png 2270w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>å‰ç«¯åŸºç¡€</h3>\n<ol>\n<li><a href=\"https://html.spec.whatwg.org/#toc-browsers\">HTML Standard</a> htmlæ ‡å‡†</li>\n<li><a href=\"https://tc39.es/ecma262/\">javascriptæ ‡å‡†</a></li>\n<li>ç½‘ç»œåŸºç¡€çŸ¥è¯†</li>\n</ol>\n<h3>å‰ç«¯æ¡†æ¶</h3>\n<ol>\n<li>react</li>\n<li>å‰ç«¯çŠ¶æ€ç®¡ç†(redux, hook, Mobx)</li>\n<li>next.js</li>\n<li>webpack</li>\n</ol>\n<h3>æ¨ªå‘æŠ€æœ¯</h3>\n<ol>\n<li>è·¨ç«¯(ç«¯)æŠ€æœ¯</li>\n</ol>\n<ul>\n<li>è·¨ç«¯æŠ€æœ¯ flutter taro</li>\n<li>ç«¯æŠ€æœ¯ Android/ IOS</li>\n</ul>\n<ol start=\"2\">\n<li>æœåŠ¡ç«¯æŠ€æœ¯</li>\n</ol>\n<ul>\n<li>node.js egg.js(å¦‚ä½•æ„å»ºä¸€ä¸ªé«˜å¯ç”¨çš„æœåŠ¡ç«¯ç³»ç»Ÿ)</li>\n<li>go</li>\n</ul>\n<h3>è§£å†³æ–¹æ¡ˆ</h3>\n<ol>\n<li>å¾®å‰ç«¯æ–¹æ¡ˆ</li>\n<li>ç¦»çº¿åŒ–(é¢„åŠ è½½)</li>\n<li>æ‹†åŒ…</li>\n<li>éª¨æ¶</li>\n<li>æœåŠ¡ç«¯æ¸²æŸ“</li>\n</ol>\n<h3>å·¥ç¨‹åŒ–</h3>\n<ol>\n<li>æœåŠ¡éƒ¨ç½²è¿ç»´(docker Kubernetes)</li>\n</ol>\n<h3>æ€è€ƒ(åšäº‹æ–¹å¼)</h3>\n<p>è¿™é‡Œä¼šè®°å½•ä¸€äº›æ€è€ƒ,ä¼šéšç€è‡ªå·±çš„è®¤çŸ¥å®šæœŸä¿®æ”¹è¿™éƒ¨åˆ†å†…å®¹.ä¸€äº›å†…å®¹ä¼šæ²‰æ·€æˆè®°å½•\nè¦ä»æŠŠäº‹åšå®Œåˆ°åšå¥½åˆ°åšå¹¿.</p>\n<ol>\n<li>æ•°æ® => ä¸šåŠ¡</li>\n<li>åšå¥½ç›‘æ§(ç”¨æˆ·è¡Œä¸º å¼‚å¸¸ç›‘æ§)</li>\n<li>å¦‚ä½•èƒ½åšåˆ°ä¸šåŠ¡æŠ€æœ¯ä¸¤æ‰‹æŠ“</li>\n<li>æ¢ç´¢æ¨è¿›ä¸šåŠ¡çš„æ–¹å¼(å¾€å‰çœ‹ å¤šèŠ, è§†è§’çš„åˆ‡æ¢(é•¿æœŸçŸ­æœŸ ç”¨æˆ·è§†è§’))</li>\n<li>å…ˆæƒ³å¥½åœ¨åš åˆ«æ€¥ è¿™ç‚¹ä¸å®¹æ˜“</li>\n</ol>\n<p>å¸Œæœ›2.0ç‰ˆæœ¬èƒ½æŠŠæˆ‘ä»¬çš„çŸ¥è¯†ä¸²æˆä¸€ä¸ªç½‘,ä¸€èµ·æŠŠäº‹åšå¥½.å¸Œæœ›äº‹æƒ…ä¼šå› ä½ ä¸åŒ.</p>\n<h2>3.0-2022-04-12</h2>\n<p>è·ç¦»ä¸Šæ¬¡æ›´æ–°è¿™ä¸ªæ–‡æ¡£å·®ä¸å¤šåˆšå¥½ä¸€å¹´çš„æ—¶é—´ï¼Œåšå®¢çš„å†…å®¹ä¹Ÿå¤§è‡´æŒ‰ç…§ä¹‹å‰2.0ç‰ˆæœ¬çš„å†…å®¹åœ¨æ›´æ–°(ä¸‡å¹¸æ²¡æœ‰æ–­æ›´)ã€‚3.0ç‰ˆæœ¬çš„å†…å®¹ä¼šåœ¨2.0çš„åŸºç¡€ä¸Šæ›´åŠ <strong>ç³»ç»ŸåŒ–</strong>ã€‚è¿™é‡Œå¯¹3.0ç‰ˆæœ¬çš„å†…å®¹åšä¸‹diff:</p>\n<ul>\n<li>å½¢å¼ä¸Šä¼šç»“åˆåšè¿‡çš„äº‹æˆ–è€…çœ‹è¿‡çš„å†…å®¹ï¼Œç»“åˆè‡ªå·±çš„æƒ³æ³•æ€»ç»“å’Œè¾“å‡º(è™½ç„¶æœ‰äº›æƒ³æ³•æ¯”è¾ƒåŸºç¡€å’Œç®€å•)ï¼Œä¹Ÿæ˜¯æƒ³åœ¨è‡ªå·±è¿™è¾¹èƒ½æŠŠä¸€äº›ä¸œè¥¿æ‰ç¢æƒ³æ˜ç™½çš„ä¸€ç§å°è¯•ï¼Œç°åœ¨ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼:\n<ol>\n<li><a href=\"https://icantunderstand.github.io/blog/%E5%89%8D%E7%AB%AF%E5%BF%AB%E6%8A%A5/\"><strong>å‰ç«¯å¿«æŠ¥</strong></a>æ”¶å½•è¿‘æœŸé˜…è¯»çš„å‰ç«¯æŠ€æœ¯ç±»æ–‡ç« ï¼Œæœˆç»´åº¦æ›´æ–°</li>\n<li><a href=\"https://icantunderstand.github.io/blog/%E8%AF%BB%E4%B9%A6%E7%9B%AE%E5%BD%95/\"><strong>è¯»ä¹¦ç›®å½•</strong></a>æ”¶å½•è‡ªå·±è¯»è¿‡çš„ä¹¦å’Œé˜…è¯»è¿‡ç¨‹ä¸­çš„ä¸€äº›æƒ³æ³•ï¼Œé‡‡å–äº†æ‰“åˆ†æ¨èçš„æ–¹å¼(æœ‰ä¸ªäººå–œå¥½)ï¼Œæ ¹æ®è¯»ä¹¦è¿›åº¦å®æ—¶æ›´æ–°ã€‚</li>\n</ol>\n</li>\n</ul>","fields":{"readingTime":{"text":"4 min read"}},"frontmatter":{"title":"åˆå¿ƒ","date":"2019-07-10","tags":"æ€è€ƒ","path":"/my-heart","top":true,"summary":null}}},{"node":{"id":"efb8a435-cea5-59e6-bc37-3b2058087a28","html":"<ul>\n<li>è¦æœ‰åˆ¨æ ¹é—®åº•çš„ç²¾ç¥</li>\n<li>å¤šæ€è€ƒè¿™ä»¶äº‹ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·</li>\n<li>æå–äº‹ç‰©ç›¸åŒçš„æ¨¡å¼ ä»æ›´ä¸Šå±‚æˆ–è€…å¤šè§’åº¦å»çœ‹ç›¸ä¼¼çš„é—®é¢˜</li>\n<li>æœ‰æ·±åº¦çš„åˆ»æ„ç»ƒä¹ æ‰èƒ½äº§ç”Ÿæé«˜</li>\n<li>åšæŠ€æœ¯ å¯ä»¥ä»æŠ€æœ¯è§’åº¦å»äº§ç”ŸæŠ€æœ¯æ–¹æ¡ˆä¹Ÿå¯ä»¥ä»ç”¨æˆ·äº§å“è§†è§’å»æ€è€ƒæŠ€æœ¯ ä¸è¦æŠŠè¿™ä¸¤ä¸ªå­¤ç«‹å¼€æ¥</li>\n</ul>\n<h2>è·¨ç«¯çš„æœ¬è´¨</h2>\n<p>ä¸€å¥è¯æ¦‚æ‹¬: å¦‚ä½•æŠ€æœ¯æ‰‹æ®µä»¥è¾ƒä½æˆæœ¬å’Œè¾ƒé«˜çš„ç¨³å®šæ€§å®ç°ç«¯ä¸šåŠ¡çš„å¿«é€Ÿå‘å±•\nåœ¨è®¨è®ºå…·ä½“çš„è·¨ç«¯æ–¹æ¡ˆæ—¶ï¼Œå…ˆçœ‹å‡ ä¸ªåœ¨é€‰æ‹©è·¨ç«¯æ–¹æ¡ˆçš„åœºæ™¯</p>\n<table>\n<thead>\n<tr>\n<th>ç›®æ ‡</th>\n<th>è€ƒé‡ç‚¹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>åŠ¨æ€åŒ–</td>\n<td>1. åŒ…ä½“ç§¯é—®é¢˜æ˜¯ä¸€ä¸ªappå‘å±•åˆ°ä¸€å®šé˜¶æ®µå¿…å®šè¦è€ƒé‡çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ä¸€äº›å¤§å‚åœ¨å†…éƒ¨æ¨åŠ¨è·¨ç«¯æ–¹æ¡ˆçš„ä¸€ä¸ªæ ¸å¿ƒè¯‰æ±‚ 2. ä¸šåŠ¡åŠ¨æ€åŒ–è¯‰æ±‚(å¿«é€Ÿè¿­ä»£/åŠ¨æ€æ›´æ–°)</td>\n</tr>\n<tr>\n<td>äººæ•ˆ</td>\n<td>è·¨ç«¯æ–¹æ¡ˆå¯ä»¥å®ç°ä¸€æ¬¡å¼€å‘å¤šç«¯ä½¿ç”¨ï¼Œæå‡äººæ•ˆ 1. åŸç”Ÿèƒ½åŠ›éœ€è¦ç«¯æ¥å…¥æˆ–è€…ç«¯æŠ€æœ¯èƒ½åŠ›ï¼Œé•¿æœŸéœ€è¦å¤šç«¯æŠ€æœ¯èƒ½åŠ› 2. å¤šç«¯å±•ç°å­˜åœ¨å·®å¼‚ï¼Œéœ€è¦å¼€å‘ä¸­ç£¨å¹³ 3. é€šå¸¸è¯´è·¨ç«¯éƒ½ä»h5(åŠ¨æ€åŒ–æŠ€æœ¯)çš„è§†è§’åˆ‡å…¥ï¼Œh5å’Œnativeä¸æ˜¯éæ­¤å³å½¼çš„å…³ç³»ï¼Œäº‹æ˜¯å¤§å®¶çš„</td>\n</tr>\n<tr>\n<td>æ€§èƒ½</td>\n<td>æŠ€æœ¯æ–¹æ¡ˆå­˜åœ¨æ€§èƒ½ç“¶é¢ˆï¼Œé€šè¿‡å…¶ä»–æŠ€æœ¯æ–¹æ¡ˆå¯ä»¥è§£å†³æ€§èƒ½é—®é¢˜ï¼Œä¼˜åŒ–ä¸šåŠ¡ä½“éªŒ</td>\n</tr>\n<tr>\n<td>æŠ€æœ¯åŸºå»ºèƒ½åŠ›</td>\n<td>1. æŠ€æœ¯å‚¨å¤‡ 2. ä¸šåŠ¡åœ¨ä¸åŒæŠ€æœ¯æ–¹æ¡ˆä¸‹æ¢ç´¢(å°ç¨‹åº)</td>\n</tr>\n</tbody>\n</table>\n<h2>reactç†å¿µ(ç‰¹ç‚¹)</h2>\n<ul>\n<li>\n<p>æ•°æ®é©±åŠ¨è§†å›¾ï¼ŒMVVMæ¡†æ¶</p>\n</li>\n<li>\n<p>è™šæ‹ŸDomï¼Œå¯ä»¥å®ç°å¤šå¹³å°rendererå’Œæ¸²æŸ“ä¼˜åŒ–</p>\n</li>\n<li>\n<p>ç»„ä»¶åŒ–æ€ç»´ï¼Œæ›´å¥½çš„æŠ½è±¡/ç»„åˆ/ä»£ç å¤ç”¨</p>\n</li>\n<li>\n<p>å‡½æ•°å¼ç¼–ç¨‹</p>\n</li>\n</ul>","fields":{"readingTime":{"text":"3 min read"}},"frontmatter":{"title":"æƒ³æ³•ç‰‡æ®µæ€»ç»“","date":"2020-12-21","tags":"æ€è€ƒ","path":"/idea","top":true,"summary":null}}},{"node":{"id":"8bfa89f7-11b7-5efe-8eff-ce127cdb3e82","html":"<p>åœ¨<a href=\"https://icantunderstand.github.io/blog/2024-4-1\">æ¿å‡³å¿«æŠ¥4æœˆ</a>ä¸­èŠåˆ°äº†reactç»„ä»¶ä¸­hooksçš„ä½¿ç”¨æ³›æ»¥é—®é¢˜ï¼Œå½“hooksä½¿ç”¨è¿‡å¤šä¼šæœ‰å¦‚ä¸‹çš„é—®é¢˜:</p>\n<ul>\n<li>ä»£ç é˜…è¯»æ€§å·®ï¼Œé€»è¾‘åˆ†æ•£</li>\n<li>æ€§èƒ½å·® è¿‡å¤šçš„hooksæ›´æ–°ä¼šå¯¼è‡´é¡µé¢å¤šæ¬¡æ¸²æŸ“ï¼Œ</li>\n<li>hooksä¹‹é—´çš„ä¾èµ–è€¦åˆå¢åŠ   æœ¬èº«hooksçš„ä¾èµ–å°±å·²ç»å¾ˆéš¾æ²»ç†ï¼Œhooksä¹‹é—´çš„ä¾èµ–æ›´åŠ ä¸å¯æ§ã€‚</li>\n</ul>\n<p>åœ¨æ€è€ƒè¿™ä¸ªæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå¸Œæœ›å¯ä»¥é€šè¿‡è§„åˆ™é™åˆ¶çš„è§£æ³•æ¥è§£ï¼Œå› ä¸ºåªæœ‰å¯å®šä¹‰çš„è§„åˆ™æ‰èƒ½åœ¨é•¿æœŸçš„ä»£ç ç»´æŠ¤ä¸­ä¸€ç›´æ¯”è¾ƒå¥½çš„è¿è¡Œï¼Œåœ¨è§„åˆ™ä¸äººå·¥reviewçš„ç»“åˆä¸‹å°±èƒ½æ¯”è¾ƒå¥½çš„å®ç°ä»£ç çš„é•¿æœŸæ²»ç†ã€‚æœ¬æ–‡å†…å®¹ä¸»è¦åŸºäºæ­¤ï¼Œä»‹ç»eslintæ’ä»¶çš„å¼€å‘è¿‡ç¨‹å’Œreact hooksæ•°é‡é™åˆ¶æ’ä»¶çš„ä½¿ç”¨</p>\n<h2>å¼€å‘eslintæ’ä»¶</h2>\n<h3>ç”Ÿæˆæ’ä»¶é¡¹ç›®</h3>\n<p>eslintæä¾›äº†ç”Ÿæˆæ’ä»¶çš„å·¥å…·<a href=\"https://github.com/eslint/generator-eslint\">generator-eslint</a></p>\n<pre><code>// å®‰è£…å…¨å±€ä¾èµ–\nnpm i -g yo\nnpm i -g generator-eslint\n\n// è¿›å…¥åˆ°æ’ä»¶ç›®å½•ï¼Œç”Ÿæˆæ’ä»¶æ¨¡ç‰ˆ\ncd testPlugin\nyo eslint:plugin\n</code></pre>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 459px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/d5cc76478b75cae9f4320f91e10e6e38/48711/createFolder.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVQY032P23KCMBCGA7XTKYpWBKylHEQ8QMIpCRCCHNSLvv8bdYLctjPf7uz+O7uzP1gkxTqvNgVfY7bBzGKtgggIkBRAcIikAEoBlI9QPkHpCOWxfSovJwjUtDr1j01empRbVevw3msGHTMtK2fHBOwj4I244VT4ULAfeUfUb+8faWEWza5sLNa5Tf/Nul11NWm9jOkyoQtETMqVMJ9DPAticfF5Yp4UQXvfktpirUm53921vLJ57zbDWHR23bnNsG9vBmZ+e/tIy9eISgESy28R/mStmldm0Ti8Dx8/OmZ23emYrdJSyyoVUYPwZUx1XBukNjCbIyqfc7EsfrhkABIFErvuHN5vaa3lFfAuwuF+xAun7IWT6I+fAx9KkICYqlnpXQdHGL6u01LoB/QXk2cR5xRcMgWRr7IxCFslhXyA0/hffgFEoEIJj3nRfgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"åˆ›å»ºæ–‡ä»¶\"\n        title=\"åˆ›å»ºæ–‡ä»¶\"\n        src=\"/blog/static/d5cc76478b75cae9f4320f91e10e6e38/48711/createFolder.png\"\n        srcset=\"/blog/static/d5cc76478b75cae9f4320f91e10e6e38/63868/createFolder.png 250w,\n/blog/static/d5cc76478b75cae9f4320f91e10e6e38/48711/createFolder.png 459w\"\n        sizes=\"(max-width: 459px) 100vw, 459px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>å¼€å‘è°ƒè¯•</h3>\n<p>åœ¨åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨rulesä¸­å¢åŠ è‡ªå®šä¹‰çš„è§„åˆ™ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬è¦é™åˆ¶hooksçš„æ•°æ®ï¼Œæ·»åŠ äº†no-too-many-hooks.js,å†…å®¹å¦‚ä¸‹:</p>\n<pre><code>\"use strict\";\nmodule.exports = {\n    meta: {\n        docs: {\n            // è§„åˆ™æè¿°\n            description: \"no too many hooks\",\n            category: \"\",\n            recommended: false\n        },\n        fixable: null,  // or \"code\" or \"whitespace\"\n        // è§„åˆ™çš„å‚æ•°é…ç½® è¿™é‡Œè®¾ç½®äº†ä¸¤ä¸ªå‚æ•° listä»£è¡¨è¦å…³æ³¨çš„hooksåˆ—è¡¨ï¼ŒnumLimitä»£è¡¨é™åˆ¶çš„æ•°ç›®\n        schema: [\n            {\n                type: \"object\",\n                properties: {\n                list: {\n                    type: \"array\",\n                },\n                numLimit: {\n                    type: \"number\"\n                }\n                },\n                additionalProperties: false,\n            },\n        ],\n        // æŠ¥é”™ä¿¡æ¯æè¿°\n        messages: {\n            hooksLimit: \"too many hooks you called\",\n        },\n    },\n\n    create: function(context) {\n        // ç´¯ç§¯çš„hooksæ•°ç›®\n        let currentNum = 0\n        return {\n            // è§£æastçš„èŠ‚ç‚¹ å¯ä»¥é€šè¿‡[astexplorer](https://astexplorer.net/)æ¥æŸ¥çœ‹å¯¹åº”çš„èŠ‚ç‚¹\n            'CallExpression Identifier': (node) => {\n                // è·å–å½“å‰çš„é…ç½®\n                const options = context.options[0] || {}\n                const list = options.list || ['useState']\n                const numLimit = options.numLimit || 5\n                // å‘½ä¸­ å½“å‰æ˜¯hookè°ƒç”¨\n                if (list.includes(node.name)) {\n                    // ç´¯ç§¯æ•°è‡ªå¢\n                    currentNum++\n                    // å½“å‰çš„ç´¯ç§¯æ•°å¤§äºç­‰äºé…ç½®çš„æ•°æ® æŠ¥é”™ åŒ¹é…åˆ°too many hooks you called\n                    if(currentNum >= numLimit) {\n                        context.report({\n                            node,\n                            messageId: 'hooksLimit'\n                        });\n                    }\n                    \n                }\n            },\n        };\n    }\n};\n</code></pre>\n<p>åœ¨å…¥å£æ–‡ä»¶ä¸­å¯¼å‡ºè§„åˆ™</p>\n<pre><code>\"use strict\";\nmodule.exports = {\n    rules: {\n        // è§„åˆ™åå­—\n        'no-too-many-hooks': require('./rules/no-too-many-hooks'),\n    },\n    configs: {\n        // å®šä¹‰æ¨èç”¨æ³• åœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥é€šè¿‡recommendedæˆ–è€…è‡ªå·±æ·»åŠ å½“å‰ruleçš„è§„åˆ™æ¥è®¾å®š\n        recommended: {\n            rules: {\n                'hooks-limit/no-too-many-hooks': [1, { list: [\"useEffect\", \"useState\", \"useCallback\"], numLimit: 5 }], // å¯ä»¥çœç•¥ eslint-plugin å‰ç¼€\n            },\n        },\n    },\n};\n</code></pre>\n<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸æ–­è°ƒè¯•å½“å‰ä»£ç æ˜¯å¦ç”Ÿæ•ˆï¼Œå¯ä»¥é€šè¿‡npm linkçš„æ–¹å¼ï¼Œåœ¨æ’ä»¶çš„ç›®å½•æ‰§è¡Œ</p>\n<pre><code>npm link  \n</code></pre>\n<p>åœ¨éœ€è¦ä½¿ç”¨æ’ä»¶çš„ç›®å½•æ‰§è¡Œ</p>\n<pre><code>npm link eslint-plugin-hooks-limit(å®šä¹‰çš„æ’ä»¶åå­—)\n</code></pre>\n<h2><a href=\"https://www.npmjs.com/package/eslint-plugin-hooks-limit\">eslint-plugin-hooks-limit</a></h2>\n<h3>å®‰è£…æ’ä»¶</h3>\n<pre><code>// å®‰è£…eslit\nnpm i eslint --save-dev\n// å®‰è£…æ’ä»¶\nnpm install eslint-plugin-hooks-limit --save-dev\n\n// åœ¨é¡¹ç›®çš„eslinté…ç½®ä¸­åŠ å…¥é…ç½® è¿™é‡Œè®¾ç½®2ä¸ªhooksçš„è°ƒç”¨è§¦å‘eslintçš„waring\n{\n    \"extends\": [\n        \"next/core-web-vitals\",\n        \"plugin:eslint-plugin-hooks-limit/recommended\"\n    ],\n    \"plugins\": [\n        \"hooks-limit\"\n    ],\n    \"rules\": {\n        \"hooks-limit/no-too-many-hooks\": [2, { \"list\": [\"useEffect\", \"useState\"], \"numLimit\": 2 } ] // å¯ä»¥çœç•¥ eslint-plugin å‰ç¼€\n    }\n} \n</code></pre>\n<p>å‡è®¾reactç»„ä»¶ä¸­æœ‰è¿™æ ·ä¸€æ®µä»£ç :</p>\n<pre><code> useEffect(() => {\n    console.time();\n}, [])\nuseEffect(() => {\n    console.time();\n}, [])\n</code></pre>\n<p>è¿™ä¸ªæ—¶å€™è¿è¡Œé¡¹ç›®çš„lintè„šæœ¬\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/bc351a5e58200d9eaf8c5fa11931db9d/25260/linInfo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVQY03XPSw6DMAxF0ayCOLIdf4GkA/a/vAoqmKCegXU9fEVE5pzuToi1VgB4338KdbZYUawhthsAtAZP1z8KCqZ7bHtue2bGxd0iwtwzQ1XphZmJqJBYrusc4zPnGOM4Dndn5i7SL9JFVc1M5aSq7mZmIloaQHtG3DvflmW54+zf+wV4oiC+TrPnpgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"lintæŠ¥é”™ä¿¡æ¯\"\n        title=\"lintæŠ¥é”™ä¿¡æ¯\"\n        src=\"/blog/static/bc351a5e58200d9eaf8c5fa11931db9d/00d43/linInfo.png\"\n        srcset=\"/blog/static/bc351a5e58200d9eaf8c5fa11931db9d/63868/linInfo.png 250w,\n/blog/static/bc351a5e58200d9eaf8c5fa11931db9d/0b533/linInfo.png 500w,\n/blog/static/bc351a5e58200d9eaf8c5fa11931db9d/00d43/linInfo.png 1000w,\n/blog/static/bc351a5e58200d9eaf8c5fa11931db9d/25260/linInfo.png 1113w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<hr>\n<h2>ps: lintæ’ä»¶å†™çš„æ¯”è¾ƒç®€å•ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±æ ¹æ®ä»£ç è‡ªå·±ä¿®æ”¹ä½¿ç”¨</h2>","fields":{"readingTime":{"text":"5 min read"}},"frontmatter":{"title":"react hooksè¿‡å¤šï¼Œä½ éœ€è¦è¿™ä¸ªeslintæ’ä»¶","date":"2024-04-18","tags":"å·¥ç¨‹åŒ–","path":"/eslit-plugin","top":null,"summary":null}}},{"node":{"id":"07e87675-1f6b-534f-90d0-a7fd71b800c3","html":"<h2><a href=\"https://github.com/tc39/proposal-iterator-helpers\">proposal-iterator-helpers</a></h2>\n<p>tc39å¢åŠ äº†è¿­ä»£å™¨helperså‡½æ•°çš„proposal.å·²ç»åˆ°äº†Stage 3é˜¶æ®µã€‚é€šè¿‡è¿™äº›è¿­ä»£å‡½æ•°å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹è¿­ä»£å™¨è¿›è¡Œå¤„ç†ã€‚æ¯”å¦‚</p>\n<pre><code>    function* naturals() {\n        let i = 0;\n        while (true) {\n            yield i;\n            i += 1;\n        }\n    }\n\n    const result = naturals()\n    .map(value => {\n        return value * value;\n    });\n    result.next(); //  {value: 0, done: false};\n    result.next(); //  {value: 1, done: false};\n    result.next(); //  {value: 4, done: false};\n</code></pre>\n<h2><a href=\"https://github.com/proposal-signals/proposal-signals\">proposal-signals</a></h2>\n<p>tc39å¢åŠ äº†signalsçš„proposalã€‚ç°åœ¨æ˜¯Stage 0é˜¶æ®µã€‚åœ¨<a href=\"https://www.solidjs.com/\">solidjs</a>ä¸­å°±æœ‰å¯¹signalsçš„å°è£…å’Œä½¿ç”¨ã€‚é€šè¿‡signalså¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šç®€åŒ–åœ¨ä¸šåŠ¡é€»è¾‘ä¸­çš„ä¾èµ–å…³ç³»è¦†ç›–å’Œç›‘å¬é€»è¾‘ã€‚</p>\n<h2><a href=\"https://itnext.io/frontend-development-beyond-react-svelte-1-3-f47eda22cba5\">Frontend Development Beyond React: Svelte</a></h2>\n<p>è¿™ç¯‡æ–‡ç« ä»‹ç»Svelteçš„åŸºæœ¬åŸç†å’Œç›¸å…³ä½¿ç”¨ã€‚å¯¹æ¯”reactï¼ŒSvelteçš„æ²¡æœ‰è™šæ‹Ÿdomã€æœ‰ç¼–è¯‘æ—¶ä¼˜åŒ–ã€å“åº”å¼æ›´åŠ é«˜æ•ˆã€‚Reactä¹Ÿåœ¨ç¼–è¯‘æ—¶ä¼˜åŒ–åšå°è¯•ï¼ŒReact Compilerå·²ç»åœ¨instagramæœ‰ä½¿ç”¨</p>\n<h2><a href=\"https://www.lydiahallie.com/blog/promise-execution\">JavaScript Visualized: Promise Execution</a></h2>\n<p>è¿™ç¯‡æ–‡ç« é€šè¿‡åŠ¨å›¾çš„æ–¹å¼ä»‹ç»JavaScriptä¸­Promiseçš„æ‰§è¡Œè¿‡ç¨‹</p>\n<h2><a href=\"https://romgrk.com/posts/react-functional-components/\">The problem with functional components</a></h2>\n<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­<a href=\"https://icantunderstand.github.io/blog/thinking-in-react\">èŠèŠæˆ‘å¯¹React Hooksçš„ç†è§£</a>ä¸­,æ¢³ç†äº†å¯¹reactå¼•å…¥hooksçš„ç†è§£</p>\n<ul>\n<li>é€šè¿‡çš„ä»£ç å¤ç”¨æ–¹å¼</li>\n<li>è§£å†³è€çš„é—®é¢˜ æ¯”å¦‚ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¯èƒ½å­˜åœ¨å¤šæ¬¡è°ƒç”¨ã€ç»„ä»¶å†…ç›‘å¬è§£ç»‘é€»è¾‘åˆ†ç¦»</li>\n<li>è§„èŒƒä½¿ç”¨èŒƒå¼</li>\n</ul>\n<p>è¿™ç¯‡æ–‡ç« çš„ä½œè€…é€šè¿‡ä¾‹å­è¯´æ˜åœ¨ä½¿ç”¨å‡½æ•°ç»„ä»¶çš„ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚hookså¾ˆå¤šç¼ºå°‘æ²»ç†ï¼Œhooksçš„ä¾èµ–é—®é¢˜ï¼Œä»£ç å¯è¯»æ€§é—®é¢˜ç­‰ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜çš„ç¡®åœ¨reactä¸­æ²¡æœ‰å¼ºåˆ¶çš„ä¸€äº›é™åˆ¶è§£æ³•ã€‚è‡ªå·±åœ¨å¼€å‘ä¸­ä¹Ÿé‡åˆ°ä¸€ä¸ªç»„ä»¶å¤šä¸ªuseStateå£°æ˜é€ æˆä»£ç å¯è¯»æ€§ä¸‹é™çš„é—®é¢˜ã€‚å¯¹äºå‡½æ•°ç»„ä»¶çš„hookså®ƒæ›´åº”è¯¥æ˜¯å¯æ’æ‹”çš„å¤ç”¨èƒ½åŠ›æˆ–è€…åå‘äºä¸ç»„ä»¶ç»“åˆçš„ä¸šåŠ¡é€»è¾‘ï¼Œä¸€äº›æ•°æ®æˆ–è€…éè§†å›¾å±‚é€»è¾‘åº”è¯¥åšåˆ°æ›´å¥½çš„æ‹†åˆ†.</p>\n<h2><a href=\"https://miaomiaozhenren.com/index.php/2023/01/20/dynamic-form/\">åŠ¨æ€è¡¨å•çš„è®¾è®¡æ€æƒ³åŠå®ç°ç­–ç•¥</a></h2>\n<p>è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»åŠ¨æ€è¡¨å•çš„è®¾è®¡æ€æƒ³ï¼Œåœ¨ä¸­åå°ç³»ç»Ÿçš„ä¸€äº›è¡¨å•é¡¹æ˜¯å¯ä»¥é€šè¿‡åŠ¨æ€è¡¨å•æ¥å®ç°çš„ã€‚</p>\n<h2><a href=\"https://web.dev/articles/bfcache?ref=sabatino.dev&#x26;hl=zh-cn\">bfcache</a></h2>\n<p>æµè§ˆå™¨çš„å¾€è¿”ç¼“å­˜ï¼Œåœ¨ä¸€äº›ç‰¹å®šåœºæ™¯éœ€è¦é’ˆå¯¹bfcacheåšå¤„ç†é€»è¾‘</p>\n<h2>å·¥å…·</h2>\n<h3><a href=\"https://bun.sh/blog/bun-v1.1\">Bun</a></h3>\n<p>Bunç°åœ¨æ”¯æŒwindowsäº†ï¼ŒBuné€‰æ‹©çš„JavaScriptæ‰§è¡Œå¼•æ“å’Œå®ç°è¯­è¨€ä½¿å¾—Bunæœ‰ä¸€å®šçš„æ€§èƒ½ä¼˜åŠ¿ï¼Œå€¼å¾—å°è¯•</p>\n<h3><a href=\"https://github.com/yocontra/react-responsive\">react-responsive</a></h3>\n<p>ä¸€ä¸ªç”¨äºåœ¨reactä»£ç ä¸­åšåª’ä½“æŸ¥è¯¢å®ç°åŠ¨æ€é€»è¾‘çš„åº“ã€‚åœ¨é˜…è¯»æºç çš„è¿‡ç¨‹ä¸­å‘ç°å®ƒä½¿ç”¨äº†css-mediaqueryå®ç°é™æ€æŸ¥è¯¢çš„åŒ¹é…</p>\n<pre><code>    var mediaQuery = require('css-mediaquery');\n    \n    var isMatch = mediaQuery.match('screen and (min-width: 40em)', {\n        type : 'screen',\n        width: '1024px'\n    });\n</code></pre>\n<p>ä½¿ç”¨<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\">window.matchMedia</a>åšåŠ¨æ€çš„æŸ¥è¯¢å˜æ›´é€šçŸ¥èƒ½åŠ›</p>\n<h3><a href=\"https://previewjs.com/\">Preview.js</a></h3>\n<p>Previerw.jså¯ä»¥å®ç°ä¸€äº›UIç»„ä»¶çš„é¢„è§ˆï¼Œå¯ä»¥å®ç°åŠ¨æ€å±æ€§ä¿®æ”¹çš„é¢„è§ˆã€æ§åˆ¶å°çš„consoleè¾“å‡ºã€ä¸åŒè®¾å¤‡ä¸‹æŸ¥çœ‹æ ·å¼ç­‰</p>\n<h2>æºç è§£è¯»</h2>\n<h3><a href=\"https://github.com/astoilkov/use-local-storage-state\">use-local-storage-state</a></h3>\n<pre><code>    import useLocalStorageState from 'use-local-storage-state'\n\n    export default function Todos() {\n        const [todos, setTodos] = useLocalStorageState('todos', {\n            defaultValue: ['buy avocado', 'do 50 push-ups']\n        })\n    }\n</code></pre>\n<p>åœ¨ä¹‹å‰çš„<a href=\"https://icantunderstand.github.io/blog/window-message\">èŠèŠé¡µé¢é—´çš„é€šä¿¡æœºåˆ¶</a>ä¸­æœ‰ä»‹ç»åˆ°localStorageå¯ä»¥å®ç°è·¨Tabçš„æ¶ˆæ¯é€šä¿¡ï¼Œåœ¨å‰ç«¯çš„æ•°æ®å­˜å‚¨ä¸­localStorageæ˜¯ä¸€ç§å¸¸ç”¨çš„å‰ç«¯å­˜å‚¨æ–¹æ¡ˆï¼Œuse-local-storage-stateè¿™ä¸ªåº“å®ç°äº†æ•°æ®çš„å­˜å‚¨å’Œæ•°æ®çš„å˜æ›´é€šçŸ¥ï¼Œä¸‹é¢åˆ†åˆ«ä»è¿™ä¸¤ä¸ªç‚¹çœ‹ä¸‹å…·ä½“å®ç°</p>\n<h3>æ•°æ®å­˜å‚¨</h3>\n<pre><code>try {\n    // æ”¯æŒlocalStorageçš„æ—¶å€™ä½¿ç”¨localStorageå­˜å‚¨\n    localStorage.setItem(key, stringify(value))\n    inMemoryData.delete(key)\n} catch {\n    // ä¸æ”¯æŒlocalStorageçš„æ—¶å€™ä½¿ç”¨å†…å­˜å¯¹æ•°æ®å­˜å‚¨\n    inMemoryData.set(key, value)\n}\n</code></pre>\n<h3>æ•°æ®å˜æ›´é€šçŸ¥</h3>\n<pre><code>   const value = useSyncExternalStore(\n    useCallback(\n        (onStoreChange) => {\n            const onChange = (localKey: string): void => {\n                if (key === localKey) {\n                    onStoreChange()\n                }\n            }\n            // callbackæ³¨å…¥ï¼Œå½“onStoreChangeæ‰§è¡Œ ä¼šè§¦å‘é¡µé¢æ›´æ–°\n            callbacks.add(onChange)\n            return (): void => {\n                callbacks.delete(onChange)\n            }\n        },\n        [key],\n    ),\n    () => {\n        // é€šè¿‡refå­˜å‚¨å½“å‰çš„å€¼ è¿”å›\n    },\n    () => defaultValue,\n)\n\nuseEffect(() => {\n    // å½“ä¸éœ€è¦é€šçŸ¥åŒæ­¥çš„æ—¶å€™ç›´æ¥è¿”å›\n    if (!storageSync) {\n        return undefined\n    }\n    const onStorage = (e: StorageEvent): void => {\n        if (e.storageArea === goodTry(() => localStorage) &#x26;&#x26; e.key === key) {\n            triggerCallbacks(key)\n        }\n    }\n    // è®¢é˜…storage è§¦å‘æ›´æ–°å›è°ƒ\n    window.addEventListener('storage', onStorage)\n\n    return (): void => window.removeEventListener('storage', onStorage)\n}, [key, storageSync])\n</code></pre>","fields":{"readingTime":{"text":"6 min read"}},"frontmatter":{"title":"2024-4-ç¬¬ä¸€æœŸ","date":"2024-04-15","tags":"å‰ç«¯å¿«æŠ¥","path":"/2024-4-1","top":null,"summary":null}}},{"node":{"id":"1b4968b4-2a2a-5a14-9be0-5e4ab155f789","html":"<p>é€šå¸¸åœ¨ç™»å½•ç³»ç»Ÿçš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯ä¼šé€šè¿‡è®¾ç½®Cookiesæ¥å®ç°ç”¨æˆ·ç™»å½•ä¿¡æ¯çš„å­˜å‚¨</p>\n<pre><code>Set-Cookie: &#x3C;cookie-name>=&#x3C;cookie-value>; Expires=&#x3C;expiration-date>; Path=&#x3C;path>; Domain=&#x3C;domain>; Secure; HttpOnly\n</code></pre>\n<p>åœ¨ç”¨æˆ·äºŒæ¬¡ç™»å½•çš„æ—¶å€™ï¼Œç›¸åŒåŸŸçš„cookiesä¼šéšç€ç”¨æˆ·è¯·æ±‚å‘é€åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šæ ¹æ®sessionä¸­ä¿å­˜çš„ä¿¡æ¯æ ¡éªŒï¼Œå®Œæˆç”¨æˆ·å¯¹ç‰¹å®šèµ„æºçš„è®¿é—®ã€‚åœ¨å®é™…ç³»ç»Ÿä¸­ï¼Œæ¯”å¦‚åŒå…¬å¸çš„ä¸åŒå­ç³»ç»Ÿå¦‚æœç™»å½•æ€ä¸èƒ½å…±äº«ï¼Œå°±ä¼šé€ æˆä¸å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæ¯”å¦‚ä½ åœ¨ä¸€ä¸ªè´­ç‰©appé‡Œé¢ï¼Œå•†å“é¡µæ˜¯ç”µå•†ç³»ç»Ÿï¼Œä¸‹å•æ”¯ä»˜é¡µæ˜¯è´¢åŠ¡ç³»ç»Ÿçš„ã€‚å¦‚æœåœ¨æ­£å¸¸ä¸‹å•è·³è½¬åˆ°ä¸‹å•æ”¯ä»˜é¡µå¼¹å‡ºç™»å½•æ¡†ï¼Œé‚£è§‰å¾—æ˜¯ä¸ªP000çš„é—®é¢˜ã€‚æ‰€ä»¥è¿™å°±å¼•å‡ºäº†å•ç‚¹ç™»å½•ç³»ç»Ÿçš„å®ç°ã€‚ä¸‹é¢ä¸»è¦ä»åŒåŸŸåä¸‹å•ç‚¹ç™»å½•å’Œä¸åŒåŸŸåä¸‹çš„å•ç‚¹ç™»å½•å±•å¼€ã€‚</p>\n<h2>åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•</h2>\n<p>åœ¨è®¾ç½®cookiesçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šcookiesçš„pathã€‚é‚£ä¹ˆå‡è®¾ç°åœ¨æœ‰ä¸‹é¢çš„åœºæ™¯ã€‚\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/5a822e779b8a65d7c5552bde52e673de/2edea/sameSite.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd5NQD//xAAVEAEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAQABBQJa/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQAQETEhUWH/2gAIAQEAAT8hABIU7wp61U3/2gAMAwEAAgADAAAAEPPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAQEBAAMAAAAAAAAAAAAAAREAITFRcf/aAAgBAQABPxAzVHFFr6xRTjQ9YDgTed//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"åŒåŸŸåå•ç‚¹ç™»å½•\"\n        title=\"åŒåŸŸåå•ç‚¹ç™»å½•\"\n        src=\"/blog/static/5a822e779b8a65d7c5552bde52e673de/a2510/sameSite.jpg\"\n        srcset=\"/blog/static/5a822e779b8a65d7c5552bde52e673de/0479a/sameSite.jpg 250w,\n/blog/static/5a822e779b8a65d7c5552bde52e673de/41099/sameSite.jpg 500w,\n/blog/static/5a822e779b8a65d7c5552bde52e673de/a2510/sameSite.jpg 1000w,\n/blog/static/5a822e779b8a65d7c5552bde52e673de/2edea/sameSite.jpg 1167w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\næœ‰ä¸¤ä¸ªå­ç³»ç»Ÿxxx.test.comå’Œccc.test.comè¦å®ç°åœ¨ç™»å½•ä»»ä½•ä¸€ä¸ªç³»ç»Ÿä¹‹åï¼Œéƒ½ä¸éœ€è¦å†ç™»å½•å°±èƒ½è®¿é—®åˆ°å¦å¤–çš„ä¸€ä¸ªç³»ç»Ÿã€‚\nä¸¤ä¸ªå­ç³»ç»Ÿå…¶å®ä¸éœ€è¦ç»´æŠ¤ç›¸å…³çš„ç™»å½•é€»è¾‘ï¼Œåªéœ€è¦å°†ç™»å½•ä»£ç†ç»™ç»Ÿä¸€çš„åŸŸåç™»å½•ç³»ç»Ÿsso.test.comæ¥å®ç°å³å¯ï¼Œåœ¨å®ç°å­ç³»ç»Ÿé—´ç›¸äº’ç™»å½•çš„æ—¶å€™éœ€è¦æ³¨æ„:</p>\n<ul>\n<li>ç™»å½•ç³»ç»Ÿåœ¨è®¾ç½®cookiesçš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½®åˆ°æ ¹åŸŸåä¸‹ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ä¾‹å­è®¾ç½®åˆ°test.comä¸Šï¼Œè¿™æ ·ç”¨æˆ·è®¿é—®xxx.test.comå’Œccc.test.comçš„æ—¶å€™éƒ½èƒ½æºå¸¦ä¸Šè®¾ç½®çš„cookies</li>\n<li>ç™»å½•çš„sessionå¯ä»¥é€šè¿‡ä¸€äº›sessionå…±äº«æŠ€æœ¯å®ç°</li>\n</ul>\n<h2>ä¸åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•</h2>\n<p>ä¸åŒåŸŸä¸‹çš„å•ç‚¹ç™»å½•ä¸èƒ½ä½¿ç”¨cookiesæ¥å®ç°ï¼Œå› ä¸ºcookiesæœ‰åŸŸåé™åˆ¶ã€‚å®ç°å•ç‚¹ç™»å½•çš„æ–¹å¼æœ‰CAS(Central Authentication Service),OAuth(ä¸»è¦ç”¨äºæˆæƒç¬¬ä¸‰æ–¹ç™»å½•)ï¼ŒJWTå®‰å…¨ä»¤ç‰Œç­‰æ–¹å¼ï¼Œä¸‹é¢ä¸»è¦ä»‹ç»CASçš„å®ç°æ–¹å¼\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 737px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/64817061d63be0dcfe8814e4c0bc4b7a/d125e/sso.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 126.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsTAAALEwEAmpwYAAADN0lEQVQ4y5VTWY7cRBjum3AQTsMBuAOvnIEDJMATL0wSCSkSgigkg0KGYTJMuttLt5dyuVz7+lcVsj2jWWAE/E+2/H9V3+ZNubs6ffVDcXkanJE+nFD6ddN8YCwDvFXqade9RANAUMwW78n27SSpBQgxxnEcN3woqjdPq5+/ihIPOX+C8eb01y/LKuf8mVKb388//e0sZxgr/90X9Tefo/7K5GU45xslhWJYUiQFV8acU/qeMR5CznkI4UKpo5m3ISSGDOtdcJByyjkzxjbeB82JUtI6l5w7av2yrh2leCLgHGidY0xp3o8JUoo55/n1FsyQ1XIlU8V40rZeCKkVJqRuGkKps84HV23baeBSCi7EDTgERRFn03xmjEUIrwhhfd8PA+fce59SAoCcc79nuw8H67TW+hYsKSLjYJ2P1m61frbbTV2H8NA0DcbYWmuMcd619WCU+zvtQUkOKeUY996/5jynBItUay0AhNm/VF/hP959xCMSt7QXsNFi1VwCvJGz/ri8wmL7elVf8Muz/Ugw6tF1VA/AFcBPhOSlByEEjHEIYdGc2j0tr1omKCHkEXCMP2KcrZVa931XV1WPkNbGB3csey3tP2i+S/u1EDmlEKNzbrbKOYBZRLufij+PTNA7bt+A59PSDP5l8WPRnIwxKaUU54/tll282xEyIDQIISila8Pw3ZI8Pxw851JrJWXXddbaECDliBvOic45BR9SjGvOICmiBJNp0pQWzp00jed8JERJmRd56wBAjA/qGYJiM1hrbY3GnB3GMQEEAGPMDuN7YJjDv28YH7S6NmzOx7mYUgTIKT+pD2Vdl0VBCDHGrD191O0Y47qxzvfTxNjcdCFZ/RE1JVJKPNqwh2BCvHOETBDDUItjMfhg16j4fwH3Xde2Xdu1xfagpfsftJ8zlq8Nyt2eXZ7t8ThQSlNK/w5+RmmKkXORcuz27Oq8UlpM03RdEue8okhLvvK5+QHzGum3TdP1PUJoohMZuNX+Hm2AqDmWgq1XUTrhJdt148U4Wu+DnydGWENOy7lCiE1VVcfjoWmO7TJN0xyPN89tWxwOqL+epmnqqt7tdrvttizLi4uLvwCQgY3VfIS/ggAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CASç™»å½•æµç¨‹\"\n        title=\"CASç™»å½•æµç¨‹\"\n        src=\"/blog/static/64817061d63be0dcfe8814e4c0bc4b7a/d125e/sso.png\"\n        srcset=\"/blog/static/64817061d63be0dcfe8814e4c0bc4b7a/63868/sso.png 250w,\n/blog/static/64817061d63be0dcfe8814e4c0bc4b7a/0b533/sso.png 500w,\n/blog/static/64817061d63be0dcfe8814e4c0bc4b7a/d125e/sso.png 737w\"\n        sizes=\"(max-width: 737px) 100vw, 737px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span><br>\nåœ¨ä¸Šå›¾ä¸­ç³»ç»Ÿ1å’Œç³»ç»Ÿ2æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ç³»ç»Ÿï¼Œåœ¨ç™»å½•ç³»ç»Ÿçš„æ—¶å€™æœ‰å¦‚ä¸‹çš„æ­¥éª¤:</p>\n<h3>æœªç™»å½•æ€ä¸‹ç™»å½•æµç¨‹</h3>\n<ul>\n<li>å¦‚æœç³»ç»Ÿ1ä¸­æ²¡æœ‰ç™»å½•ï¼Œä¼šè·³è½¬åˆ°SSOç³»ç»Ÿä¸­è¿›è¡Œæ ¡éªŒï¼Œå‘ç°SSOç³»ç»Ÿä¹Ÿæ²¡æœ‰ç™»å½•ï¼Œå¼¹å‡ºç”¨æˆ·ç™»å½•é¡µ</li>\n<li>ç”¨æˆ·å¡«å†™ç”¨æˆ·åã€å¯†ç ç™»å½•SSOç³»ç»Ÿï¼ŒSSOç³»ç»Ÿå†™å…¥SSOåŸŸçš„cookieså¹¶ä¸”åœ¨SSOç³»ç»Ÿä¿å­˜ç™»å½•session</li>\n<li>SSOç³»ç»Ÿè¿”å›ç»™ç³»ç»Ÿ1ä¸€ä¸ªST(Service Ticket),è·³è½¬åˆ°ç³»ç»Ÿ1</li>\n<li>ç³»ç»Ÿ1æ‹¿åˆ°è·å–åˆ°çš„STï¼Œå»å‘SSOåå°è¿›è¡Œæ ¡éªŒï¼ŒSTæœ‰æ•ˆåˆ™åœ¨ç³»ç»Ÿ1å†™å…¥å½“å‰ç™»å½•çš„sessionå’Œç³»ç»Ÿ1åŸŸä¸‹çš„cookies</li>\n</ul>\n<h3>å·²ç™»å½•ä¸‹æµç¨‹</h3>\n<p>ç”¨æˆ·å·²ç»ç™»å½•SSOç³»ç»Ÿï¼Œæ­¤æ—¶ä»–å°è¯•ç™»å½•ç³»ç»Ÿ2</p>\n<ul>\n<li>ç³»ç»Ÿ2æ ¡éªŒå½“å‰ç”¨æˆ·æœªç™»å½•ï¼Œè·³è½¬åˆ°SSOç³»ç»Ÿ</li>\n<li>SSOç³»ç»Ÿä¸­ç”¨æˆ·æ˜¯å·²ç™»å½•çŠ¶æ€ï¼ŒSSOä¼šè·³è½¬å›ç³»ç»Ÿ2å¹¶ä¸”æºå¸¦ST</li>\n<li>ç³»ç»Ÿ2ç”¨è·å–åˆ°çš„STå»SSOç³»ç»Ÿåšä»¤ç‰Œæ ¡éªŒï¼ŒSTæœ‰æ•ˆåˆ™åœ¨ç³»ç»Ÿ2ä¸­å†™å…¥å½“å‰ç™»å½•çš„sessionå’Œç³»ç»Ÿ2åŸŸä¸‹çš„cookies</li>\n</ul>\n<h2>åŒåŸŸåå’Œä¸åŒåŸŸåä¸‹å•ç‚¹ç™»å½•çš„å·®å¼‚</h2>\n<ul>\n<li>sessionçš„çŠ¶æ€  åœ¨åŒåŸŸåç™»å½•ä¸‹sessionçŠ¶æ€åº”è¯¥æ˜¯å¯ä»¥å…±äº«æˆ–è€…ä¸å…±äº«çš„ï¼Œä¸åŒåŸŸåä¸‹sessionçŠ¶æ€æ˜¯ä¸å…±äº«çš„</li>\n<li>æœåŠ¡ç«¯è®¾ç½®cookiesçš„æ–¹å¼ ä»–ä»¬éƒ½æ˜¯åœ¨ssoåŸŸä¸‹è®¾ç½®cookiesï¼ŒåŒåŸŸååˆšå¥½æœ‰cookiesåœ¨åŒdomainä¸‹å¯ä»¥å…±äº«ï¼Œæ‰€ä»¥ç›¸å¯¹äºä¸åŒåŸŸåä¸‹æ›´ç®€å•ä¸€äº›ã€‚</li>\n</ul>","fields":{"readingTime":{"text":"5 min read"}},"frontmatter":{"title":"ä»cookieså†èŠå•ç‚¹ç™»å½•å®ç°","date":"2024-04-05","tags":"å‰ç«¯åŸºç¡€","path":"/sso","top":null,"summary":null}}},{"node":{"id":"e7dba02a-4655-564c-ad4b-5a136e44fcf2","html":"<p>åœ¨æµè§ˆå™¨ä¸­ä¼šæ¶‰åŠåˆ°ä¸€äº›è·¨é¡µé¢çš„é€šä¿¡æ¥å®Œæˆä¸€äº›ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘ï¼Œä¸‹é¢æ¢³ç†ä¸‹ä¸€äº›è·¨é¡µé¢é€šä¿¡ç›¸å…³çš„æŠ€æœ¯ç‚¹ã€‚</p>\n<h2><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage\">postMessage</a></h2>\n<h3>postMessageç”¨æ³•è§£é‡Š</h3>\n<pre><code>otherWindow.postMessage(message, targetOrigin, [transfer]);\n</code></pre>\n<ul>\n<li>otherWindow å…¶ä»–çª—å£çš„å¼•ç”¨ï¼Œæ¯”å¦‚iframeçš„contentWindowã€æ‰§è¡Œwindow.opençš„è¿”å›çš„çª—å£å¯¹è±¡ã€window.parentè·å–çš„çˆ¶çª—å£å¯¹è±¡ã€‚åˆ©ç”¨window.openè¿”å›çš„çª—å£å¯¹è±¡å¯ä»¥å®ç°è·Ÿæ–°çª—å£çš„é€šä¿¡</li>\n<li>message éœ€è¦å‘é€çš„æ•°æ®ï¼Œå®ƒä¼šè¢«ç»“æ„åŒ–å…‹éš†ç®—æ³•åºåˆ—åŒ–,æ— æ³•è¢«ç»“æ„åŒ–å…‹éš†çš„æ•°æ®ä¼šå¯¼è‡´å¼‚å¸¸æˆ–è€…ä¸¢å¤±å±æ€§ï¼Œæ¯”å¦‚å‡½æ•°/åŸå‹é“¾çš„ä¸¢å¤±ç­‰</li>\n<li>targetOrigin æŒ‡å®šå“ªäº›æºå¯ä»¥æ¥æ”¶æ•°æ®ï¼Œè¿™é‡Œå°±å¯ä»¥å®ç°è·¨æºçš„é€šä¿¡å’Œå®‰å…¨æ§åˆ¶</li>\n<li>transfer å¯é€‰çš„<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Transferable_objects\">Transferable</a>å¯¹è±¡</li>\n</ul>\n<h3>çˆ¶å­çª—å£é€šä¿¡</h3>\n<h4>çˆ¶çª—å£å‘é€æ¶ˆæ¯ç»™å­çª—å£</h4>\n<p>åœ¨çˆ¶çª—å£é€šè¿‡è·å–å­iframeçš„conentWindowè·å–å­çª—å£çš„å¼•ç”¨ï¼Œè°ƒç”¨postMessageæ–¹æ³•å°±å¯ä»¥å®ç°å¯¹å­çª—å£å‘é€æ¶ˆæ¯</p>\n<pre><code>// çˆ¶çª—å£å‘é€æ¶ˆæ¯\niframe.contentWindow.postMessage('message from parent', '*')\n\n// å­çª—å£ç›‘å¬æ¶ˆæ¯\nwindow.addEventListener('message', function(event) {\n    // å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯\n    console.log(event.data);\n});\n</code></pre>\n<h4>å­çª—å£å‘é€æ¶ˆæ¯ç»™çˆ¶çª—å£</h4>\n<p>å­çª—å£é€šè¿‡window.parentè·å–çˆ¶çª—å£çš„å¼•ç”¨ï¼Œè°ƒç”¨postMesageæ–¹æ³•å°±å¯ä»¥å®ç°å¯¹çˆ¶çª—å£å‘é€æ¶ˆæ¯</p>\n<pre><code>// å­çª—å£å‘é€æ¶ˆæ¯\nwindow.parent.postMessage('message from child', '*')\n\n // çˆ¶çª—å£ç›‘å¬æ¶ˆæ¯\nwindow.addEventListener('message', function(event) {\n    // å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯\n    console.log(event.data);\n});\n</code></pre>\n<h2>æµè§ˆå™¨ä¸åŒtabé—´é€šä¿¡</h2>\n<p>è·¨tabé€šä¿¡æœ‰å¯èƒ½æ¶‰åŠåˆ°ä¸åŒtabçš„æ•°æ®åŒæ­¥é€»è¾‘ï¼Œæ˜¯ä¸€ä¸ªç›¸å¯¹å¸¸è§çš„åœºæ™¯</p>\n<h3><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/postMessage\">localStorage</a></h3>\n<p>sessionStrageåœ¨chromeä¸­æ‰“å¼€åŒæºçš„tabæ—¶å€™ä¸ä¼šå…±äº«sessionStorage,æ‰€ä»¥ä¸»è¦ä»‹ç»localStorageçš„å®ç°æ–¹æ¡ˆ.localStorageæ˜¯åœ¨åŒåŸŸåä¸‹å…±äº«çš„æµè§ˆå™¨å­˜å‚¨ï¼Œåœ¨åŒåŸŸçš„ä¸åŒtabä¸‹ç›‘å¬localStorageçš„storageäº‹ä»¶å°±å¯ä»¥å®ç°è·¨tabé€šä¿¡</p>\n<pre><code>// åœ¨ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µä¸­è®¾ç½®æ•°æ®åˆ° sessionStorage ä¸­\nsessionStorage.setItem('message', 'Hello from Tab 1!');\n\n// ç¬¬äºŒä¸ªæ ‡ç­¾é¡µä¹Ÿæ‰“å¼€å½“å‰é¡µé¢ ç›‘å¬ storage äº‹ä»¶ æ¥æ”¶å…¶ä»–æ ‡ç­¾é¡µçš„æ•°æ®\nwindow.addEventListener('storage', function(event) {\n    if (event.key === 'message') {\n        console.log('Received message in Tab 1:', event.newValue);\n    }\n});\n</code></pre>\n<h3><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket\">WebSocket</a></h3>\n<p>è¿™ç§æ–¹æ¡ˆä¾èµ–éœ€è¦ä¾èµ–æœåŠ¡æœåŠ¡ç«¯</p>\n<pre><code>// å»ºç«‹websockeè¿æ¥\nconst socket = new WebSocket(\"ws://localhost:8080\");\n\n// è¿æ¥å»ºç«‹ï¼Œè·ŸæœåŠ¡ç«¯å‘é€äº‹ä»¶ï¼ŒæœåŠ¡ç«¯å¯¹æ‰€æœ‰è¿æ¥çš„websocket clientå¹¿æ’­äº‹ä»¶\nsocket.addEventListener(\"open\", function (event) {\n    socket.send(\"Hello Server!\");\n});\n\n// æ¥æ”¶äº‹ä»¶æ¶ˆæ¯\nsocket.addEventListener(\"message\", function (event) {\n    console.log(\"Message from server \", event.data);\n});\n</code></pre>\n<p>ä½¿ç”¨websocketè¿™ç§æ–¹æ¡ˆç›¸å¯¹é‡ï¼Œé™¤éå·²æœ‰websocketé•¿è¿æ¥å¹¶ä¸”éœ€è¦è€ƒè™‘websocketçš„æ–­è¿é€ æˆçš„é€šä¿¡å¤±è´¥</p>\n<h3><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/BroadcastChannel\">BroadcastChannel</a></h3>\n<p>BroadcastChannelå¯ä»¥åšåˆ°åŒæºçª—å£é—´çš„é€šä¿¡èƒ½åŠ›.å®ƒåŸºäºå‘å¸ƒ-è®¢é˜…çš„æ¨¡å¼å®ç°æ¶ˆæ¯é€šçŸ¥ã€‚</p>\n<pre><code>// å‘é€æ–¹é€»è¾‘\n// åˆ›å»ºBroadcastChannel åœ¨å®ç°è·¨tabé€šä¿¡çš„æ—¶å€™ï¼Œåˆ›å»ºBroadcastChannelçš„channelNameéœ€è¦æ˜¯ä¸€ä¸ª\nconst channel = new BroadcastChannel('myChannel');\n\n// å‘é€æ¶ˆæ¯åˆ°å…¶ä»–æ ‡ç­¾é¡µ \nchannel.postMessage('Hello from Tab 1!');\n\n// ç›‘å¬æ–¹é€»è¾‘\n// åˆ›å»ºBroadcastChannel ä¸å‘é€æ–¹channelNameä¸€è‡´\nconst channe2 = new BroadcastChannel('myChannel');\n// ç›‘å¬æ¶ˆæ¯\nchanne2.onmessage = function(event) {\n    console.log('Received message in Tab 2:', event.data);\n};\n</code></pre>\n<h3><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API\">Service Worker</a>/<a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/SharedWorker\">SharedWorker</a></h3>\n<p>Service Workerå’ŒSharedWorkeræ–¹æ¡ˆç±»ä¼¼ï¼Œéƒ½æ˜¯è¿è¡Œworkerå®ç°æ¶ˆæ¯é€šä¿¡ï¼Œä¸‹é¢ä¸»è¦ä¸¾ä¾‹SharedWorkerçš„å®ç°æ–¹æ¡ˆã€‚</p>\n<h4>å®šä¹‰workerè„šæœ¬</h4>\n<pre><code>// shared-worker.js\n// å®šä¹‰ä¸€ä¸ªå˜é‡æ¥ä¿å­˜æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯\nlet clients = [];\n\n// ç›‘å¬è¿æ¥äº‹ä»¶\nself.addEventListener('connect', function(event) {\n    // è·å–ä¸è¯¥è¿æ¥å…³è”çš„ç«¯å£\n    const port = event.ports[0];\n\n    // å°†ç«¯å£æ·»åŠ åˆ°å®¢æˆ·ç«¯åˆ—è¡¨ä¸­\n    clients.push(port);\n\n    // ç›‘å¬æ¥è‡ªå®¢æˆ·ç«¯çš„æ¶ˆæ¯\n    port.addEventListener('message', function(event) {\n        // å¹¿æ’­æ¶ˆæ¯ç»™æ‰€æœ‰å…¶ä»–å®¢æˆ·ç«¯\n        clients.forEach(function(client) {\n        if (client !== port) {\n            client.postMessage(event.data);\n        }\n        });\n    });\n\n    // ç›‘å¬å®¢æˆ·ç«¯å…³é—­äº‹ä»¶\n    port.addEventListener('close', function() {\n        // ä»å®¢æˆ·ç«¯åˆ—è¡¨ä¸­ç§»é™¤å…³é—­çš„ç«¯å£\n        clients = clients.filter(function(client) {\n        return client !== port;\n        });\n    });\n\n    // å‘å®¢æˆ·ç«¯å‘é€è¿æ¥æˆåŠŸæ¶ˆæ¯\n    port.postMessage('Connected to SharedWorker.');\n});\n</code></pre>\n<h4>é¡µé¢ä¸­åŠ è½½è„šæœ¬</h4>\n<pre><code>    // åœ¨ä½ çš„ç½‘é¡µä¸­è¿æ¥åˆ° SharedWorker\n    const worker = new SharedWorker('shared-worker.js');\n\n    // ç›‘å¬è¿æ¥æˆåŠŸäº‹ä»¶\n    worker.port.addEventListener('message', function(event) {\n        console.log('Received message:', event.data);\n    });\n</code></pre>\n<h3>cookies</h3>\n<p>è¿™ç§æ–¹æ¡ˆä¸å¤§æ¨èï¼Œæ¶‰åŠåˆ°jså¯ä»¥é€šè¿‡è„šæœ¬å¯¹cookiesè¿›è¡Œè¯»å†™</p>","fields":{"readingTime":{"text":"6 min read"}},"frontmatter":{"title":"èŠèŠé¡µé¢é—´çš„é€šä¿¡æœºåˆ¶","date":"2024-04-05","tags":"å‰ç«¯åŸºç¡€","path":"/window-message","top":null,"summary":null}}}],"pathPrefix":"","first":true,"last":false,"index":1,"pageCount":16,"additionalContext":{"pageAllCount":96}}},
    "staticQueryHashes": []}