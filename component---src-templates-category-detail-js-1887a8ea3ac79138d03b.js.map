{"version":3,"file":"component---src-templates-category-detail-js-1887a8ea3ac79138d03b.js","mappings":"+IAQA,IALoBA,IAChBC,EAAAA,cAAA,UAAQC,OAAK,EAACC,IAAI,gGACjBC,YAAY,a,kKCUjB,MAAMC,GAAYC,EAAAA,EAAAA,IAAcC,IAAK,CACnCC,QAAS,CACPC,QAAS,OACTC,cAAe,SACfC,eAAgB,aAChBC,WAAY,SACZC,cAAe,IAEjBC,OAAQ,CACNC,OAAQ,GACRN,QAAS,OACTC,cAAe,MACfC,eAAgB,SAChBC,WAAY,cAIVI,EAAY,EACZC,EAAgB,EAEP,SAASC,EAAQC,GAA+B,IAA9B,KAAEC,EAAI,YAAEC,EAAc,CAAE,GAAGF,EAC1D,MAAM,KAAEG,GAASD,GACX,WAAEE,EAAU,MAAEC,EAAQ,KAAOJ,aAAI,EAAJA,EAAMK,oBAAqB,CAAED,MAAO,KACjE,EAAEE,EAAQ,EAACC,IAAeC,EAAAA,EAAAA,UAASX,IACnC,QAAEY,GAAYxB,IACdyB,EAAYC,KAAKC,KAAKT,EAAaP,GACnCiB,GAAaP,EAAU,GAAKV,EAC5BkB,EAAWR,EAAUV,EACrBmB,EAAeX,EAAMY,MAAMH,EAAWC,GAC5C,OACEjC,EAAAA,cAACoC,EAAAA,EAAQ,CACLC,QAAQ,KACRC,OAAQtC,EAAAA,cAACuC,EAAAA,EAAU,MACnBC,OAASlC,IAAK,CACZmC,KAAM,CAAEC,gBAAuC,SAAtBpC,EAAMqC,YAAyBrC,EAAMsC,OAAOC,KAAK,GAAKvC,EAAMsC,OAAOE,KAAK,IACjGC,KAAM,CAAEC,WAAY,MAEtBnC,OAAQb,EAAAA,cAACiD,EAAAA,EAAM,KACbjD,EAAAA,cAAA,OAAKkD,UAAWtB,EAAQf,QACtBb,EAAAA,cAACmD,EAAAA,EAAU,CACTC,MAAOvB,EACPwB,KAAM5B,EACN6B,SAAWD,IAAU3B,EAAW2B,EAAK,OAK7CrD,EAAAA,cAAA,OAAKkD,UAAWtB,EAAQrB,SACtBP,EAAAA,cAAA,OAAKkD,UAAU,aACblD,EAAAA,cAAA,OACEkD,UAAU,qBAEP7B,EAAOrB,EAAAA,cAAA,WAAMqB,GAAc,KAC7BC,EAAa,EAAI,eAAiBY,EAAaqB,KAAIC,IAAS,IAADC,EAAAC,EAC1D,MAAM,KAAEC,EAAI,MAAEC,EAAK,KAAEC,EAAI,QAAEC,EAAO,KAAEC,IAAUP,SAAU,QAANC,EAAJD,EAAMQ,YAAI,IAAAP,OAAN,EAAJA,EAAYQ,cAAe,CAAC,EACpEC,EAAKV,SAAU,QAANE,EAAJF,EAAMQ,YAAI,IAAAN,OAAN,EAAJA,EAAYQ,GACvB,OAAOlE,EAAAA,cAACmE,EAAAA,KAAI,CAACC,IAAKF,EAAIG,GAAE,GAAKV,GACzB3D,EAAAA,cAACsE,EAAAA,EAAW,CACVR,QAASA,EACTC,KAAMA,EACNH,MAAOA,EACPC,KAAMA,IAEH,KAGb7D,EAAAA,cAACD,EAAAA,EAAW,QAKtB,C","sources":["webpack://noodes-personal-blog/./src/components/adComponent.js","webpack://noodes-personal-blog/./src/templates/categoryDetail.js"],"sourcesContent":["import React from 'react'\r\n\r\n\r\nconst AdComponent = () => (\r\n    <script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8259624032507561\"\r\n     crossorigin=\"anonymous\" ></script>\r\n)\r\n\r\nexport default AdComponent\r\n","import React, { useState } from \"react\"\r\nimport { graphql, Link } from \"gatsby\"\r\nimport { \r\n  AppShell,\r\n  createStyles,\r\n  Footer,\r\n  Pagination\r\n} from '@mantine/core';\r\n\r\nimport AdComponent from \"../components/adComponent\";\r\nimport PageHeader from '../components/PageHeader';\r\nimport ArticleCard from '../components/ArticleCard';\r\n\r\nimport './style.css'\r\n\r\nconst useStyles = createStyles((theme) => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    paddingBottom: 70,\r\n  },\r\n  footer: {\r\n    height: 60,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n}));\r\n\r\nconst PAGE_SIZE = 6;\r\nconst INIT_PAGE_NUM = 1;\r\n\r\nexport default function Template({ data, pageContext = { } }) {\r\n  const { meta } = pageContext \r\n  const { totalCount, edges = [] } = data?.allMarkdownRemark || { edges: [] }\r\n  const [ pageNum, setPageNum ] = useState(INIT_PAGE_NUM)\r\n  const { classes } = useStyles();\r\n  const totalPage = Math.ceil(totalCount / PAGE_SIZE)\r\n  const initIndex = (pageNum - 1) * PAGE_SIZE;\r\n  const endIndex = pageNum * PAGE_SIZE  \r\n  const dateToRender = edges.slice(initIndex, endIndex);\r\n  return (\r\n    <AppShell\r\n        padding=\"md\"\r\n        header={<PageHeader />}\r\n        styles={(theme) => ({\r\n          root: { backgroundColor: theme.colorScheme === 'dark' ? theme.colors.dark[8] : theme.colors.gray[0] },\r\n          main: { paddingTop: 20 }\r\n        })}\r\n        footer={<Footer >\r\n          <div className={classes.footer}>\r\n            <Pagination \r\n              total={totalPage}\r\n              page={pageNum}\r\n              onChange={(page)=> { setPageNum(page); }}\r\n            />\r\n          </div>\r\n        </Footer>}\r\n    >\r\n      <div className={classes.content}>\r\n        <div className=\"blog-post\">\r\n          <div\r\n            className=\"blog-post-content\"\r\n          >\r\n            {!!meta ? <div>{meta}</div> : null}\r\n            {totalCount < 1 ? '当前分类暂无内容敬请期待' : dateToRender.map(edge => {\r\n              const { path, title, date, summary, tags, } = edge?.node?.frontmatter || {}\r\n              const id = edge?.node?.id\r\n              return <Link key={id} to={`${path}`}>\r\n                  <ArticleCard \r\n                    summary={summary}\r\n                    tags={tags}\r\n                    title={title}\r\n                    date={date}\r\n                  />\r\n                </Link>\r\n            })}\r\n          </div>\r\n          <AdComponent />\r\n        </div>\r\n      </div>\r\n    </AppShell>\r\n  )\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n  query($category: String!) {\r\n    allMarkdownRemark(\r\n      filter: {frontmatter: {tags: {eq: $category}}}\r\n      sort: {order: DESC, fields: frontmatter___date}\r\n    ) {\r\n      totalCount\r\n      edges {\r\n        node {\r\n          id\r\n          frontmatter {\r\n            title\r\n            date\r\n            tags\r\n            path\r\n            top\r\n            summary\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`"],"names":["AdComponent","React","async","src","crossorigin","useStyles","createStyles","theme","content","display","flexDirection","justifyContent","alignItems","paddingBottom","footer","height","PAGE_SIZE","INIT_PAGE_NUM","Template","_ref","data","pageContext","meta","totalCount","edges","allMarkdownRemark","pageNum","setPageNum","useState","classes","totalPage","Math","ceil","initIndex","endIndex","dateToRender","slice","AppShell","padding","header","PageHeader","styles","root","backgroundColor","colorScheme","colors","dark","gray","main","paddingTop","Footer","className","Pagination","total","page","onChange","map","edge","_edge$node","_edge$node2","path","title","date","summary","tags","node","frontmatter","id","Link","key","to","ArticleCard"],"sourceRoot":""}